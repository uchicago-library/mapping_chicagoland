{"version":3,"sources":["webpack://UV/./node_modules/@iiif/iiif-gallery-component/dist-esmodule/index.js","webpack://UV/./node_modules/@iiif/iiif-gallery-component/node_modules/@iiif/vocabulary/dist-esmodule/index.js","webpack://UV/./node_modules/@iiif/iiif-tree-component/dist-umd/IIIFTreeComponent.js","webpack://UV/./node_modules/@iiif/vocabulary/dist-commonjs/index.js"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAiB,SAAI,IAAI,SAAI;AAC7B;AACA;AACA,cAAc,gBAAgB,sCAAsC,iBAAiB,EAAE;AACvF,6BAA6B,uDAAuD;AACpF;AACA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACmD;AACC;AACN;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,kBAAkB,2BAA2B,cAAc,MAAM,gBAAgB,QAAQ,kBAAkB,UAAU,gBAAgB,QAAQ,iBAAiB,SAAS,uBAAuB,eAAe,wBAAwB,gBAAgB;AACrP,uCAAuC,eAAe,GAAG,UAAU,gBAAgB,qBAAqB,6CAA6C;AACrJ,OAAO,EAAE,uBAAuB;AAChC,oCAAoC,KAAK,qCAAqC,oCAAoC;AAClH,QAAQ,KAAK;AACb;AACA;AACA,2CAA2C,eAAe,MAAM,aAAa;AAC7E,2CAA2C,eAAe,aAAa,QAAQ,IAAI,QAAQ,MAAM;AACjG,6CAA6C,oCAAoC,IAAI,qBAAqB;AAC1G;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,+BAA+B,qDAAO;AACtC;AACA,2BAA2B,qDAAO;AAClC;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,EAAE;AAClC,iCAAiC,EAAE;AACnC;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,iEAAgB;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD,iEAAgB;AAChE;AACA;AACA,gEAAgE;AAChE;AACA;AACA,2BAA2B,qCAAqC;AAChE;AACA;AACA,8DAA8D,6CAA6C,EAAE;AAC7G;AACA,8CAA8C;AAC9C;AACA;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,sCAAsC;AACjE;AACA;AACA;AACA;AACA;AACA,2BAA2B,oCAAoC;AAC/D;AACA;AACA,iCAAiC,qBAAqB;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6EAA6E,wBAAwB,EAAE;AACvG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,2BAA2B;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,mDAAK;AAChC,yBAAyB,2BAA2B;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,2BAA2B,mBAAmB;AAC9C;AACA;AACA;AACA;AACA;AACA,iDAAiD,gCAAgC,EAAE;AACnF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,yBAAyB;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,mBAAmB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,mDAAK;AACxB,sBAAsB,mDAAK;AAC3B;AACA;AACA;AACA;AACA,sDAAsD;AACtD;AACA,CAAC,CAAC,kEAAa;AACa;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,iC;;;;;;;;;;;;AClfA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,oDAAoD;AAC9C;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,4BAA4B;AACtB;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,oDAAoD;AAC9C;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,4CAA4C;AACtC;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,8BAA8B;AACxB;AACP;AACA;AACA;AACA;AACA,CAAC,0CAA0C;AACpC;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,wCAAwC;AAClC;AACP;AACA;AACA;AACA;AACA;AACA,CAAC,4CAA4C;AACtC;AACP;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,kCAAkC;AACnC,iC;;;;;;;;;;;ACrJA,eAAe,KAAiD,oBAAoB,SAAqJ,CAAC,gDAAgD,mBAAmB,SAAS,cAAc,4BAA4B,YAAY,qBAAqB,2DAA2D,uCAAuC,qCAAqC,oBAAoB,EAAE,iBAAiB,4FAA4F,eAAe,wCAAwC,SAAS,EAAE,mBAAmB,8BAA8B,qDAAqD,0BAA0B,6CAA6C,sBAAsB,6DAA6D,YAAY,eAAe,SAAS,iBAAiB,iCAAiC,iBAAiB,YAAY,UAAU,sBAAsB,mBAAmB,iDAAiD,iBAAiB,kBAAkB,qDAAqD,SAAS,cAAc,4BAA4B,YAAY,qBAAqB,2DAA2D,uCAAuC,qCAAqC,oBAAoB,EAAE,iBAAiB,4FAA4F,eAAe,wCAAwC,SAAS,EAAE,mBAAmB,8BAA8B,qDAAqD,0BAA0B,6CAA6C,sBAAsB,6DAA6D,YAAY,eAAe,SAAS,iBAAiB,iCAAiC,iBAAiB,YAAY,UAAU,sBA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AS,uCAAuC,SAAS,wCAAwC,SAAS,mCAAmC,SAAS,oCAAoC,SAAS,mCAAmC,SAAS,GAAG,kBAAkB,6BAA6B,GAAG,G;;;;;;;;;;;;ACAlxmG;AACb,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,2FAA2F;AAC5F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,uDAAuD;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,2FAA2F;AAC5F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,+EAA+E;AAChF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,0DAA0D;AAC3D;AACA;AACA;AACA;AACA;AACA,CAAC,4EAA4E;AAC7E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,yEAAyE;AAC1E;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,+EAA+E;AAChF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,gEAAgE;AACjE,iC","file":"vendors~uv-model-viewer-extension~uv-openseadragon-extension.fc5f02e84272dbbf2d8b.js","sourcesContent":["var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { ViewingDirection } from \"@iiif/vocabulary\";\r\nimport { BaseComponent } from \"@iiif/base-component\";\r\nimport { Strings, Maths } from \"@edsilv/utils\";\r\nvar GalleryComponent = /** @class */ (function (_super) {\r\n    __extends(GalleryComponent, _super);\r\n    function GalleryComponent(options) {\r\n        var _this = _super.call(this, options) || this;\r\n        _this._data = _this.data();\r\n        _this._data = _this.options.data;\r\n        _this._init();\r\n        _this._resize();\r\n        return _this;\r\n    }\r\n    GalleryComponent.prototype._init = function () {\r\n        var _this = this;\r\n        _super.prototype._init.call(this);\r\n        this._$element = $(this.el);\r\n        this._$header = $('<div class=\"header\"></div>');\r\n        this._$element.append(this._$header);\r\n        this._$leftOptions = $('<div class=\"left\"></div>');\r\n        this._$header.append(this._$leftOptions);\r\n        this._$rightOptions = $('<div class=\"right\"></div>');\r\n        this._$header.append(this._$rightOptions);\r\n        this._$sizeDownButton = $('<input class=\"btn btn-default size-down\" type=\"button\" value=\"-\" />');\r\n        this._$leftOptions.append(this._$sizeDownButton);\r\n        this._$sizeRange = $('<input type=\"range\" name=\"size\" min=\"1\" max=\"10\" value=\"' +\r\n            this.options.data.initialZoom +\r\n            '\" />');\r\n        this._$leftOptions.append(this._$sizeRange);\r\n        this._$sizeUpButton = $('<input class=\"btn btn-default size-up\" type=\"button\" value=\"+\" />');\r\n        this._$leftOptions.append(this._$sizeUpButton);\r\n        this._$multiSelectOptions = $('<div class=\"multiSelectOptions\"></div>');\r\n        this._$rightOptions.append(this._$multiSelectOptions);\r\n        this._$selectAllButton = $('<div class=\"multiSelectAll\"><input id=\"multiSelectAll\" type=\"checkbox\" tabindex=\"0\" /><label for=\"multiSelectAll\">' +\r\n            this.options.data.content.selectAll +\r\n            \"</label></div>\");\r\n        this._$multiSelectOptions.append(this._$selectAllButton);\r\n        this._$selectAllButtonCheckbox = $(this._$selectAllButton.find(\"input:checkbox\"));\r\n        this._$selectButton = $('<a class=\"select\" href=\"#\">' + this.options.data.content.select + \"</a>\");\r\n        this._$multiSelectOptions.append(this._$selectButton);\r\n        this._$main = $('<div class=\"main\"></div>');\r\n        this._$element.append(this._$main);\r\n        this._$thumbs = $('<div class=\"thumbs\"></div>');\r\n        this._$main.append(this._$thumbs);\r\n        this._$sizeDownButton.on(\"click\", function () {\r\n            var val = Number(_this._$sizeRange.val()) - 1;\r\n            if (val >= Number(_this._$sizeRange.attr(\"min\"))) {\r\n                _this._$sizeRange.val(val.toString());\r\n                _this._$sizeRange.trigger(\"change\");\r\n                _this.fire(Events.DECREASE_SIZE);\r\n            }\r\n        });\r\n        this._$sizeUpButton.on(\"click\", function () {\r\n            var val = Number(_this._$sizeRange.val()) + 1;\r\n            if (val <= Number(_this._$sizeRange.attr(\"max\"))) {\r\n                _this._$sizeRange.val(val.toString());\r\n                _this._$sizeRange.trigger(\"change\");\r\n                _this.fire(Events.INCREASE_SIZE);\r\n            }\r\n        });\r\n        this._$sizeRange.on(\"change\", function () {\r\n            _this._updateThumbs();\r\n            _this._scrollToThumb(_this._getSelectedThumbIndex());\r\n        });\r\n        this._$selectAllButton.checkboxButton(function (checked) {\r\n            var multiSelectState = _this._getMultiSelectState();\r\n            if (multiSelectState) {\r\n                if (checked) {\r\n                    multiSelectState.selectAll(true);\r\n                }\r\n                else {\r\n                    multiSelectState.selectAll(false);\r\n                }\r\n            }\r\n            _this.set(_this.options.data);\r\n        });\r\n        this._$selectButton.on(\"click\", function () {\r\n            var multiSelectState = _this._getMultiSelectState();\r\n            if (multiSelectState) {\r\n                var ids = multiSelectState\r\n                    .getAllSelectedCanvases()\r\n                    .map(function (canvas) {\r\n                    return canvas.id;\r\n                });\r\n                _this.fire(Events.MULTISELECTION_MADE, ids);\r\n            }\r\n        });\r\n        this._setRange();\r\n        $.templates({\r\n            galleryThumbsTemplate: '\\\r\n\t\t\t\t<div class=\"{{:~galleryThumbClassName()}}\" data-src=\"{{>uri}}\" data-index=\"{{>index}}\" data-visible=\"{{>visible}}\" data-width=\"{{>width}}\" data-height=\"{{>height}}\" data-initialwidth=\"{{>initialWidth}}\" data-initialheight=\"{{>initialHeight}}\">\\\r\n\t\t\t\t\t\t<div class=\"wrap\" style=\"width:{{>initialWidth}}px; height:{{>initialHeight}}px\" data-link=\"class{merge:multiSelected toggle=\\'multiSelected\\'}\">\\\r\n\t\t\t\t\t\t{^{if multiSelectEnabled}}\\\r\n\t\t\t\t\t\t\t\t<input id=\"thumb-checkbox-{{>id}}\" type=\"checkbox\" data-link=\"checked{:multiSelected ? \\'checked\\' : \\'\\'}\" class=\"multiSelect\" />\\\r\n\t\t\t\t\t\t{{/if}}\\\r\n\t\t\t\t\t\t</div>\\\r\n\t\t\t\t\t\t<div class=\"info\">\\\r\n\t\t\t\t\t\t\t\t<span class=\"index\" style=\"width:{{>initialWidth}}px\">{{:#index + 1}}</span>\\\r\n\t\t\t\t\t\t\t\t<span class=\"label\" style=\"width:{{>initialWidth}}px\" title=\"{{>label}}\">{{>label}}&nbsp;</span>\\\r\n\t\t\t\t\t\t\t\t<span class=\"searchResults\" title=\"{{:~galleryThumbSearchResultsTitle()}}\">{{>data.searchResults}}</span>\\\r\n\t\t\t\t\t\t</div>\\\r\n\t\t\t\t</div>'\r\n        });\r\n        var that = this;\r\n        $.views.helpers({\r\n            galleryThumbClassName: function () {\r\n                var className = \"thumb preLoad\";\r\n                if (this.data.index === 0) {\r\n                    className += \" first\";\r\n                }\r\n                if (!this.data.uri) {\r\n                    className += \" placeholder\";\r\n                }\r\n                return className;\r\n            },\r\n            galleryThumbSearchResultsTitle: function () {\r\n                var searchResults = Number(this.data.data.searchResults);\r\n                if (searchResults) {\r\n                    if (searchResults > 1) {\r\n                        return Strings.format(that.options.data.content.searchResults, searchResults.toString());\r\n                    }\r\n                    return Strings.format(that.options.data.content.searchResult, searchResults.toString());\r\n                }\r\n                return null;\r\n            }\r\n        });\r\n        // use unevent to detect scroll stop.\r\n        this._$main.on(\"scroll\", function () {\r\n            _this._updateThumbs();\r\n        }, this.options.data.scrollStopDuration);\r\n        if (!this.options.data.sizingEnabled) {\r\n            this._$sizeRange.hide();\r\n        }\r\n        return true;\r\n    };\r\n    GalleryComponent.prototype.data = function () {\r\n        return {\r\n            chunkedResizingThreshold: 400,\r\n            content: {\r\n                searchResult: \"{0} search result\",\r\n                searchResults: \"{0} search results\",\r\n                select: \"Select\",\r\n                selectAll: \"Select All\"\r\n            },\r\n            debug: false,\r\n            helper: null,\r\n            imageFadeInDuration: 300,\r\n            initialZoom: 6,\r\n            minLabelWidth: 20,\r\n            pageModeEnabled: false,\r\n            scrollStopDuration: 100,\r\n            searchResults: [],\r\n            sizingEnabled: true,\r\n            thumbHeight: 320,\r\n            thumbLoadPadding: 3,\r\n            thumbWidth: 200,\r\n            viewingDirection: ViewingDirection.LEFT_TO_RIGHT\r\n        };\r\n    };\r\n    GalleryComponent.prototype.set = function (data) {\r\n        this._data = Object.assign(this._data, data);\r\n        if (this._data.helper &&\r\n            this._data.thumbWidth !== undefined &&\r\n            this._data.thumbHeight !== undefined) {\r\n            this._thumbs = (this._data.helper.getThumbs(this._data.thumbWidth, this._data.thumbHeight));\r\n        }\r\n        if (this._data.viewingDirection) {\r\n            if (this._data.viewingDirection === ViewingDirection.BOTTOM_TO_TOP) {\r\n                this._thumbs.reverse();\r\n            }\r\n            this._$thumbs.addClass(this._data.viewingDirection); // defaults to \"left-to-right\"\r\n        }\r\n        if (this._data.searchResults && this._data.searchResults.length) {\r\n            for (var i = 0; i < this._data.searchResults.length; i++) {\r\n                var searchResult = this._data.searchResults[i];\r\n                // find the thumb with the same canvasIndex and add the searchResult\r\n                var thumb = this._thumbs.filter(function (t) { return t.index === searchResult.canvasIndex; })[0];\r\n                // clone the data so searchResults isn't persisted on the canvas.\r\n                var data_1 = $.extend(true, {}, thumb.data);\r\n                data_1.searchResults = searchResult.rects.length;\r\n                thumb.data = data_1;\r\n            }\r\n        }\r\n        this._thumbsCache = null; // delete cache\r\n        this._createThumbs();\r\n        if (this._data.helper) {\r\n            this.selectIndex(this._data.helper.canvasIndex);\r\n        }\r\n        var multiSelectState = this._getMultiSelectState();\r\n        if (multiSelectState && multiSelectState.isEnabled) {\r\n            this._$multiSelectOptions.show();\r\n            this._$thumbs.addClass(\"multiSelect\");\r\n            for (var i = 0; i < multiSelectState.canvases.length; i++) {\r\n                var canvas = multiSelectState.canvases[i];\r\n                var thumb = this._getThumbByCanvas(canvas);\r\n                this._setThumbMultiSelected(thumb, canvas.multiSelected);\r\n            }\r\n            // range selections override canvas selections\r\n            for (var i = 0; i < multiSelectState.ranges.length; i++) {\r\n                var range = multiSelectState.ranges[i];\r\n                var thumbs = this._getThumbsByRange(range);\r\n                for (var i_1 = 0; i_1 < thumbs.length; i_1++) {\r\n                    var thumb = thumbs[i_1];\r\n                    this._setThumbMultiSelected(thumb, range.multiSelected);\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            this._$multiSelectOptions.hide();\r\n            this._$thumbs.removeClass(\"multiSelect\");\r\n        }\r\n        this._update();\r\n    };\r\n    GalleryComponent.prototype._update = function () {\r\n        var multiSelectState = this._getMultiSelectState();\r\n        if (multiSelectState && multiSelectState.isEnabled) {\r\n            // check/uncheck Select All checkbox\r\n            this._$selectAllButtonCheckbox.prop(\"checked\", multiSelectState.allSelected());\r\n            var anySelected = multiSelectState.getAll().filter(function (t) { return t.multiSelected; }).length > 0;\r\n            if (!anySelected) {\r\n                this._$selectButton.hide();\r\n            }\r\n            else {\r\n                this._$selectButton.show();\r\n            }\r\n        }\r\n    };\r\n    GalleryComponent.prototype._getMultiSelectState = function () {\r\n        if (this._data.helper) {\r\n            return this._data.helper.getMultiSelectState();\r\n        }\r\n        return null;\r\n    };\r\n    GalleryComponent.prototype._createThumbs = function () {\r\n        var that = this;\r\n        if (!this._thumbs)\r\n            return;\r\n        this._$thumbs.undelegate(\".thumb\", \"click\");\r\n        this._$thumbs.empty();\r\n        var multiSelectState = this._getMultiSelectState();\r\n        // set initial thumb sizes\r\n        var heights = [];\r\n        for (var i_2 = 0; i_2 < this._thumbs.length; i_2++) {\r\n            var thumb = this._thumbs[i_2];\r\n            var initialWidth = thumb.width;\r\n            var initialHeight = thumb.height;\r\n            thumb.initialWidth = initialWidth;\r\n            //thumb.initialHeight = initialHeight;\r\n            heights.push(initialHeight);\r\n            thumb.multiSelectEnabled = multiSelectState\r\n                ? multiSelectState.isEnabled\r\n                : false;\r\n        }\r\n        var medianHeight = Maths.median(heights);\r\n        for (var i_3 = 0; i_3 < this._thumbs.length; i_3++) {\r\n            var thumb = this._thumbs[i_3];\r\n            thumb.initialHeight = medianHeight;\r\n        }\r\n        this._$thumbs.link($.templates.galleryThumbsTemplate, this._thumbs);\r\n        if (multiSelectState && !multiSelectState.isEnabled) {\r\n            // add a selection click event to all thumbs\r\n            this._$thumbs.delegate(\".thumb\", \"click\", function (e) {\r\n                e.preventDefault();\r\n                var thumb = $.view(this).data;\r\n                that.fire(Events.THUMB_SELECTED, thumb);\r\n            });\r\n        }\r\n        else {\r\n            // make each thumb a checkboxButton\r\n            var thumbs = this._$thumbs.find(\".thumb\");\r\n            var _loop_1 = function () {\r\n                var that_1 = this_1;\r\n                var $thumb = $(thumbs[i]);\r\n                $thumb.checkboxButton(function (_checked) {\r\n                    var thumb = $.view(this).data;\r\n                    that_1._setThumbMultiSelected(thumb, !thumb.multiSelected);\r\n                    var range = that_1.options.data.helper.getCanvasRange(thumb.data);\r\n                    var multiSelectState = that_1._getMultiSelectState();\r\n                    if (multiSelectState) {\r\n                        if (range) {\r\n                            multiSelectState.selectRange(range, thumb.multiSelected);\r\n                        }\r\n                        else {\r\n                            multiSelectState.selectCanvas(thumb.data, thumb.multiSelected);\r\n                        }\r\n                    }\r\n                    that_1._update();\r\n                    that_1.fire(Events.THUMB_MULTISELECTED, thumb);\r\n                });\r\n            };\r\n            var this_1 = this;\r\n            for (var i = 0; i < thumbs.length; i++) {\r\n                _loop_1();\r\n            }\r\n        }\r\n    };\r\n    GalleryComponent.prototype._getThumbByCanvas = function (canvas) {\r\n        return this._thumbs.filter(function (c) { return c.data.id === canvas.id; })[0];\r\n    };\r\n    GalleryComponent.prototype._sizeThumb = function ($thumb) {\r\n        var initialWidth = $thumb.data().initialwidth;\r\n        var initialHeight = $thumb.data().initialheight;\r\n        var width = Number(initialWidth);\r\n        var height = Number(initialHeight);\r\n        var newWidth = Math.floor(width * this._range);\r\n        var newHeight = Math.floor(height * this._range);\r\n        var $wrap = $thumb.find(\".wrap\");\r\n        var $label = $thumb.find(\".label\");\r\n        var $index = $thumb.find(\".index\");\r\n        var $searchResults = $thumb.find(\".searchResults\");\r\n        var newLabelWidth = newWidth;\r\n        // if search results are visible, size index/label to accommodate it.\r\n        // if the resulting size is below options.minLabelWidth, hide search results.\r\n        if (this._data.searchResults && this._data.searchResults.length) {\r\n            $searchResults.show();\r\n            newLabelWidth = newWidth - $searchResults.outerWidth();\r\n            if (this._data.minLabelWidth !== undefined &&\r\n                newLabelWidth < this._data.minLabelWidth) {\r\n                $searchResults.hide();\r\n                newLabelWidth = newWidth;\r\n            }\r\n            else {\r\n                $searchResults.show();\r\n            }\r\n        }\r\n        if (this._data.pageModeEnabled) {\r\n            $index.hide();\r\n            $label.show();\r\n        }\r\n        else {\r\n            $index.show();\r\n            $label.hide();\r\n        }\r\n        $wrap.outerWidth(newWidth);\r\n        $wrap.outerHeight(newHeight);\r\n        $index.outerWidth(newLabelWidth);\r\n        $label.outerWidth(newLabelWidth);\r\n    };\r\n    GalleryComponent.prototype._loadThumb = function ($thumb, cb) {\r\n        var $wrap = $thumb.find(\".wrap\");\r\n        if ($wrap.hasClass(\"loading\") || $wrap.hasClass(\"loaded\"))\r\n            return;\r\n        $thumb.removeClass(\"preLoad\");\r\n        // if no img has been added yet\r\n        var visible = $thumb.attr(\"data-visible\");\r\n        var fadeDuration = this._data.imageFadeInDuration || 0;\r\n        if (visible !== \"false\") {\r\n            $wrap.addClass(\"loading\");\r\n            var src = $thumb.attr(\"data-src\");\r\n            var $img = $('<img class=\"thumbImage\" src=\"' + src + '\" />');\r\n            // fade in on load.\r\n            $img.hide();\r\n            $img.on(\"load\", function () {\r\n                $(this).fadeIn(fadeDuration, function () {\r\n                    $(this).parent().switchClass(\"loading\", \"loaded\");\r\n                });\r\n            });\r\n            $wrap.prepend($img);\r\n            if (cb)\r\n                cb($img);\r\n        }\r\n        else {\r\n            $wrap.addClass(\"hidden\");\r\n        }\r\n    };\r\n    GalleryComponent.prototype._getThumbsByRange = function (range) {\r\n        var thumbs = [];\r\n        if (!this._data.helper) {\r\n            return thumbs;\r\n        }\r\n        for (var i = 0; i < this._thumbs.length; i++) {\r\n            var thumb = this._thumbs[i];\r\n            var canvas = thumb.data;\r\n            var r = (this._data.helper.getCanvasRange(canvas, range.path));\r\n            if (r && r.id === range.id) {\r\n                thumbs.push(thumb);\r\n            }\r\n        }\r\n        return thumbs;\r\n    };\r\n    GalleryComponent.prototype._updateThumbs = function () {\r\n        var debug = !!this._data.debug;\r\n        // cache range size\r\n        this._setRange();\r\n        var scrollTop = this._$main.scrollTop();\r\n        var scrollHeight = this._$main.height();\r\n        var scrollBottom = scrollTop + scrollHeight;\r\n        if (debug) {\r\n            console.log(\"scrollTop %s, scrollBottom %s\", scrollTop, scrollBottom);\r\n        }\r\n        // test which thumbs are scrolled into view\r\n        var thumbs = this._getAllThumbs();\r\n        var numToUpdate = 0;\r\n        for (var i = 0; i < thumbs.length; i++) {\r\n            var $thumb = $(thumbs[i]);\r\n            var thumbTop = $thumb.position().top;\r\n            var thumbHeight = $thumb.outerHeight();\r\n            var thumbBottom = thumbTop + thumbHeight;\r\n            var padding = thumbHeight * this._data.thumbLoadPadding;\r\n            // check all thumbs to see if they are within the scroll area plus padding\r\n            if (thumbTop <= scrollBottom + padding &&\r\n                thumbBottom >= scrollTop - padding) {\r\n                numToUpdate += 1;\r\n                //let $label: JQuery = $thumb.find('span:visible').not('.searchResults');\r\n                // if (debug) {\r\n                //     $thumb.addClass('debug');\r\n                //     $label.empty().append('t: ' + thumbTop + ', b: ' + thumbBottom);\r\n                // } else {\r\n                //     $thumb.removeClass('debug');\r\n                // }\r\n                this._sizeThumb($thumb);\r\n                $thumb.addClass(\"insideScrollArea\");\r\n                // if (debug) {\r\n                //     $label.append(', i: true');\r\n                // }\r\n                this._loadThumb($thumb);\r\n            }\r\n            else {\r\n                $thumb.removeClass(\"insideScrollArea\");\r\n                // if (debug) {\r\n                //     $label.append(', i: false');\r\n                // }\r\n            }\r\n        }\r\n        if (debug) {\r\n            console.log(\"number of thumbs to update: \" + numToUpdate);\r\n        }\r\n    };\r\n    GalleryComponent.prototype._getSelectedThumbIndex = function () {\r\n        return Number(this._$selectedThumb.data(\"index\"));\r\n    };\r\n    GalleryComponent.prototype._getAllThumbs = function () {\r\n        if (!this._thumbsCache) {\r\n            this._thumbsCache = this._$thumbs.find(\".thumb\");\r\n        }\r\n        return this._thumbsCache;\r\n    };\r\n    GalleryComponent.prototype._getThumbByIndex = function (canvasIndex) {\r\n        return this._$thumbs.find('[data-index=\"' + canvasIndex + '\"]');\r\n    };\r\n    GalleryComponent.prototype._scrollToThumb = function (canvasIndex) {\r\n        var $thumb = this._getThumbByIndex(canvasIndex);\r\n        this._$main.scrollTop($thumb.position().top);\r\n    };\r\n    // these don't work well because thumbs are loaded in chunks\r\n    // public searchPreviewStart(canvasIndex: number): void {\r\n    //     this._scrollToThumb(canvasIndex);\r\n    //     const $thumb: JQuery = this._getThumbByIndex(canvasIndex);\r\n    //     $thumb.addClass('searchpreview');\r\n    // }\r\n    // public searchPreviewFinish(): void {\r\n    //     this._scrollToThumb(this._data.helper.canvasIndex);\r\n    //     this._getAllThumbs().removeClass('searchpreview');\r\n    // }\r\n    GalleryComponent.prototype.selectIndex = function (index) {\r\n        if (!this._thumbs || !this._thumbs.length)\r\n            return;\r\n        this._getAllThumbs().removeClass(\"selected\");\r\n        this._$selectedThumb = this._getThumbByIndex(index);\r\n        this._$selectedThumb.addClass(\"selected\");\r\n        this._scrollToThumb(index);\r\n        // make sure visible images are loaded.\r\n        this._updateThumbs();\r\n    };\r\n    GalleryComponent.prototype._setRange = function () {\r\n        var norm = Maths.normalise(Number(this._$sizeRange.val()), 0, 10);\r\n        this._range = Maths.clamp(norm, 0.05, 1);\r\n    };\r\n    GalleryComponent.prototype._setThumbMultiSelected = function (thumb, selected) {\r\n        $.observable(thumb).setProperty(\"multiSelected\", selected);\r\n    };\r\n    GalleryComponent.prototype._resize = function () { };\r\n    return GalleryComponent;\r\n}(BaseComponent));\r\nexport { GalleryComponent };\r\nvar Events = /** @class */ (function () {\r\n    function Events() {\r\n    }\r\n    Events.DECREASE_SIZE = \"decreaseSize\";\r\n    Events.INCREASE_SIZE = \"increaseSize\";\r\n    Events.MULTISELECTION_MADE = \"multiSelectionMade\";\r\n    Events.THUMB_SELECTED = \"thumbSelected\";\r\n    Events.THUMB_MULTISELECTED = \"thumbMultiSelected\";\r\n    return Events;\r\n}());\r\n//# sourceMappingURL=index.js.map","export var AnnotationMotivation;\r\n(function (AnnotationMotivation) {\r\n    AnnotationMotivation[\"BOOKMARKING\"] = \"oa:bookmarking\";\r\n    AnnotationMotivation[\"CLASSIFYING\"] = \"oa:classifying\";\r\n    AnnotationMotivation[\"COMMENTING\"] = \"oa:commenting\";\r\n    AnnotationMotivation[\"DESCRIBING\"] = \"oa:describing\";\r\n    AnnotationMotivation[\"EDITING\"] = \"oa:editing\";\r\n    AnnotationMotivation[\"HIGHLIGHTING\"] = \"oa:highlighting\";\r\n    AnnotationMotivation[\"IDENTIFYING\"] = \"oa:identifying\";\r\n    AnnotationMotivation[\"LINKING\"] = \"oa:linking\";\r\n    AnnotationMotivation[\"MODERATING\"] = \"oa:moderating\";\r\n    AnnotationMotivation[\"PAINTING\"] = \"sc:painting\";\r\n    AnnotationMotivation[\"QUESTIONING\"] = \"oa:questioning\";\r\n    AnnotationMotivation[\"REPLYING\"] = \"oa:replying\";\r\n    AnnotationMotivation[\"TAGGING\"] = \"oa:tagging\";\r\n    AnnotationMotivation[\"TRANSCRIBING\"] = \"oad:transcribing\";\r\n})(AnnotationMotivation || (AnnotationMotivation = {}));\r\nexport var Behavior;\r\n(function (Behavior) {\r\n    Behavior[\"AUTO_ADVANCE\"] = \"auto-advance\";\r\n    Behavior[\"CONTINUOUS\"] = \"continuous\";\r\n    Behavior[\"FACING_PAGES\"] = \"facing-pages\";\r\n    Behavior[\"HIDDEN\"] = \"hidden\";\r\n    Behavior[\"INDIVIDUALS\"] = \"individuals\";\r\n    Behavior[\"MULTI_PART\"] = \"multi-part\";\r\n    Behavior[\"NO_NAV\"] = \"no-nav\";\r\n    Behavior[\"NON_PAGED\"] = \"non-paged\";\r\n    Behavior[\"PAGED\"] = \"paged\";\r\n    Behavior[\"REPEAT\"] = \"repeat\";\r\n    Behavior[\"SEQUENCE\"] = \"sequence\";\r\n    Behavior[\"THUMBNAIL_NAV\"] = \"thumbnail-nav\";\r\n    Behavior[\"TOGETHER\"] = \"together\";\r\n    Behavior[\"UNORDERED\"] = \"unordered\";\r\n})(Behavior || (Behavior = {}));\r\nexport var ExternalResourceType;\r\n(function (ExternalResourceType) {\r\n    ExternalResourceType[\"CANVAS\"] = \"canvas\";\r\n    ExternalResourceType[\"CHOICE\"] = \"choice\";\r\n    ExternalResourceType[\"CONTENT_AS_TEXT\"] = \"contentastext\";\r\n    ExternalResourceType[\"DOCUMENT\"] = \"document\";\r\n    ExternalResourceType[\"IMAGE\"] = \"image\";\r\n    ExternalResourceType[\"MOVING_IMAGE\"] = \"movingimage\";\r\n    ExternalResourceType[\"PDF\"] = \"pdf\";\r\n    ExternalResourceType[\"PHYSICAL_OBJECT\"] = \"physicalobject\";\r\n    ExternalResourceType[\"SOUND\"] = \"sound\";\r\n    ExternalResourceType[\"TEXTUALBODY\"] = \"textualbody\";\r\n    ExternalResourceType[\"VIDEO\"] = \"video\";\r\n})(ExternalResourceType || (ExternalResourceType = {}));\r\nexport var IIIFResourceType;\r\n(function (IIIFResourceType) {\r\n    IIIFResourceType[\"ANNOTATION\"] = \"annotation\";\r\n    IIIFResourceType[\"CANVAS\"] = \"canvas\";\r\n    IIIFResourceType[\"COLLECTION\"] = \"collection\";\r\n    IIIFResourceType[\"MANIFEST\"] = \"manifest\";\r\n    IIIFResourceType[\"RANGE\"] = \"range\";\r\n    IIIFResourceType[\"SEQUENCE\"] = \"sequence\";\r\n})(IIIFResourceType || (IIIFResourceType = {}));\r\nexport var MediaType;\r\n(function (MediaType) {\r\n    MediaType[\"AUDIO_MP4\"] = \"audio/mp4\";\r\n    MediaType[\"CORTO\"] = \"application/corto\";\r\n    MediaType[\"DRACO\"] = \"application/draco\";\r\n    MediaType[\"GLTF\"] = \"model/gltf+json\";\r\n    MediaType[\"JPG\"] = \"image/jpeg\";\r\n    MediaType[\"M3U8\"] = \"application/vnd.apple.mpegurl\";\r\n    MediaType[\"MP3\"] = \"audio/mp3\";\r\n    MediaType[\"MPEG_DASH\"] = \"application/dash+xml\";\r\n    MediaType[\"OBJ\"] = \"text/plain\";\r\n    MediaType[\"PDF\"] = \"application/pdf\";\r\n    MediaType[\"PLY\"] = \"application/ply\";\r\n    MediaType[\"THREEJS\"] = \"application/vnd.threejs+json\";\r\n    MediaType[\"VIDEO_MP4\"] = \"video/mp4\";\r\n    MediaType[\"WEBM\"] = \"video/webm\";\r\n})(MediaType || (MediaType = {}));\r\nexport var RenderingFormat;\r\n(function (RenderingFormat) {\r\n    RenderingFormat[\"DOC\"] = \"application/msword\";\r\n    RenderingFormat[\"DOCX\"] = \"application/vnd.openxmlformats-officedocument.wordprocessingml.document\";\r\n    RenderingFormat[\"PDF\"] = \"application/pdf\";\r\n})(RenderingFormat || (RenderingFormat = {}));\r\nexport var ServiceProfile;\r\n(function (ServiceProfile) {\r\n    // image api\r\n    ServiceProfile[\"IMAGE_0_COMPLIANCE_LEVEL_0\"] = \"http://library.stanford.edu/iiif/image-api/compliance.html#level0\";\r\n    ServiceProfile[\"IMAGE_0_COMPLIANCE_LEVEL_1\"] = \"http://library.stanford.edu/iiif/image-api/compliance.html#level1\";\r\n    ServiceProfile[\"IMAGE_0_COMPLIANCE_LEVEL_2\"] = \"http://library.stanford.edu/iiif/image-api/compliance.html#level2\";\r\n    ServiceProfile[\"IMAGE_0_CONFORMANCE_LEVEL_0\"] = \"http://library.stanford.edu/iiif/image-api/conformance.html#level0\";\r\n    ServiceProfile[\"IMAGE_0_CONFORMANCE_LEVEL_1\"] = \"http://library.stanford.edu/iiif/image-api/conformance.html#level1\";\r\n    ServiceProfile[\"IMAGE_0_CONFORMANCE_LEVEL_2\"] = \"http://library.stanford.edu/iiif/image-api/conformance.html#level2\";\r\n    ServiceProfile[\"IMAGE_1_COMPLIANCE_LEVEL_0\"] = \"http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level0\";\r\n    ServiceProfile[\"IMAGE_1_COMPLIANCE_LEVEL_1\"] = \"http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level1\";\r\n    ServiceProfile[\"IMAGE_1_COMPLIANCE_LEVEL_2\"] = \"http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level2\";\r\n    ServiceProfile[\"IMAGE_1_CONFORMANCE_LEVEL_0\"] = \"http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level0\";\r\n    ServiceProfile[\"IMAGE_1_CONFORMANCE_LEVEL_1\"] = \"http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level1\";\r\n    ServiceProfile[\"IMAGE_1_CONFORMANCE_LEVEL_2\"] = \"http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level2\";\r\n    ServiceProfile[\"IMAGE_1_LEVEL_0\"] = \"http://iiif.io/api/image/1/level0.json\";\r\n    ServiceProfile[\"IMAGE_1_PROFILE_LEVEL_0\"] = \"http://iiif.io/api/image/1/profiles/level0.json\";\r\n    ServiceProfile[\"IMAGE_1_LEVEL_1\"] = \"http://iiif.io/api/image/1/level1.json\";\r\n    ServiceProfile[\"IMAGE_1_PROFILE_LEVEL_1\"] = \"http://iiif.io/api/image/1/profiles/level1.json\";\r\n    ServiceProfile[\"IMAGE_1_LEVEL_2\"] = \"http://iiif.io/api/image/1/level2.json\";\r\n    ServiceProfile[\"IMAGE_1_PROFILE_LEVEL_2\"] = \"http://iiif.io/api/image/1/profiles/level2.json\";\r\n    ServiceProfile[\"IMAGE_2_LEVEL_0\"] = \"http://iiif.io/api/image/2/level0.json\";\r\n    ServiceProfile[\"IMAGE_2_PROFILE_LEVEL_0\"] = \"http://iiif.io/api/image/2/profiles/level0.json\";\r\n    ServiceProfile[\"IMAGE_2_LEVEL_1\"] = \"http://iiif.io/api/image/2/level1.json\";\r\n    ServiceProfile[\"IMAGE_2_PROFILE_LEVEL_1\"] = \"http://iiif.io/api/image/2/profiles/level1.json\";\r\n    ServiceProfile[\"IMAGE_2_LEVEL_2\"] = \"http://iiif.io/api/image/2/level2.json\";\r\n    ServiceProfile[\"IMAGE_2_PROFILE_LEVEL_2\"] = \"http://iiif.io/api/image/2/profiles/level2.json\";\r\n    // auth api\r\n    ServiceProfile[\"AUTH_0_CLICK_THROUGH\"] = \"http://iiif.io/api/auth/0/login/clickthrough\";\r\n    ServiceProfile[\"AUTH_0_LOGIN\"] = \"http://iiif.io/api/auth/0/login\";\r\n    ServiceProfile[\"AUTH_0_LOGOUT\"] = \"http://iiif.io/api/auth/0/logout\";\r\n    ServiceProfile[\"AUTH_0_RESTRICTED\"] = \"http://iiif.io/api/auth/0/login/restricted\";\r\n    ServiceProfile[\"AUTH_0_TOKEN\"] = \"http://iiif.io/api/auth/0/token\";\r\n    ServiceProfile[\"AUTH_1_CLICK_THROUGH\"] = \"http://iiif.io/api/auth/1/clickthrough\";\r\n    ServiceProfile[\"AUTH_1_EXTERNAL\"] = \"http://iiif.io/api/auth/1/external\";\r\n    ServiceProfile[\"AUTH_1_KIOSK\"] = \"http://iiif.io/api/auth/1/kiosk\";\r\n    ServiceProfile[\"AUTH_1_LOGIN\"] = \"http://iiif.io/api/auth/1/login\";\r\n    ServiceProfile[\"AUTH_1_LOGOUT\"] = \"http://iiif.io/api/auth/1/logout\";\r\n    ServiceProfile[\"AUTH_1_PROBE\"] = \"http://iiif.io/api/auth/1/probe\";\r\n    ServiceProfile[\"AUTH_1_TOKEN\"] = \"http://iiif.io/api/auth/1/token\";\r\n    // search api\r\n    ServiceProfile[\"SEARCH_0\"] = \"http://iiif.io/api/search/0/search\";\r\n    ServiceProfile[\"SEARCH_0_AUTO_COMPLETE\"] = \"http://iiif.io/api/search/0/autocomplete\";\r\n    ServiceProfile[\"SEARCH_1\"] = \"http://iiif.io/api/search/1/search\";\r\n    ServiceProfile[\"SEARCH_1_AUTO_COMPLETE\"] = \"http://iiif.io/api/search/1/autocomplete\";\r\n    // extensions\r\n    ServiceProfile[\"TRACKING_EXTENSIONS\"] = \"http://universalviewer.io/tracking-extensions-profile\";\r\n    ServiceProfile[\"UI_EXTENSIONS\"] = \"http://universalviewer.io/ui-extensions-profile\";\r\n    ServiceProfile[\"PRINT_EXTENSIONS\"] = \"http://universalviewer.io/print-extensions-profile\";\r\n    ServiceProfile[\"SHARE_EXTENSIONS\"] = \"http://universalviewer.io/share-extensions-profile\";\r\n    // other\r\n    ServiceProfile[\"OTHER_MANIFESTATIONS\"] = \"http://iiif.io/api/otherManifestations.json\";\r\n    ServiceProfile[\"IXIF\"] = \"http://wellcomelibrary.org/ld/ixif/0/alpha.json\";\r\n})(ServiceProfile || (ServiceProfile = {}));\r\nexport var ViewingDirection;\r\n(function (ViewingDirection) {\r\n    ViewingDirection[\"BOTTOM_TO_TOP\"] = \"bottom-to-top\";\r\n    ViewingDirection[\"LEFT_TO_RIGHT\"] = \"left-to-right\";\r\n    ViewingDirection[\"RIGHT_TO_LEFT\"] = \"right-to-left\";\r\n    ViewingDirection[\"TOP_TO_BOTTOM\"] = \"top-to-bottom\";\r\n})(ViewingDirection || (ViewingDirection = {}));\r\nexport var ViewingHint;\r\n(function (ViewingHint) {\r\n    ViewingHint[\"CONTINUOUS\"] = \"continuous\";\r\n    ViewingHint[\"INDIVIDUALS\"] = \"individuals\";\r\n    ViewingHint[\"NON_PAGED\"] = \"non-paged\";\r\n    ViewingHint[\"PAGED\"] = \"paged\";\r\n    ViewingHint[\"TOP\"] = \"top\";\r\n})(ViewingHint || (ViewingHint = {}));\r\n//# sourceMappingURL=index.js.map","!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define(\"IIIFTreeComponent\",[],t):\"object\"==typeof exports?exports.IIIFTreeComponent=t():e.IIIFTreeComponent=t()}(\"undefined\"!=typeof self?self:this,(function(){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=2)}([function(e,t,n){\"undefined\"!=typeof self&&self,e.exports=function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=4)}([function(e,t,n){\"use strict\";function i(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,\"__esModule\",{value:!0}),i(n(6)),i(n(7)),i(n(8)),i(n(9)),i(n(10)),i(n(11)),i(n(12)),i(n(13)),i(n(14)),i(n(15)),i(n(16)),i(n(17)),i(n(18)),i(n(19)),i(n(20)),i(n(21)),i(n(22)),i(n(23)),i(n(24)),i(n(25)),i(n(26)),i(n(27)),i(n(28)),i(n(29)),i(n(30)),i(n(31)),i(n(32)),i(n(2))},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),function(e){e.BOOKMARKING=\"oa:bookmarking\",e.CLASSIFYING=\"oa:classifying\",e.COMMENTING=\"oa:commenting\",e.DESCRIBING=\"oa:describing\",e.EDITING=\"oa:editing\",e.HIGHLIGHTING=\"oa:highlighting\",e.IDENTIFYING=\"oa:identifying\",e.LINKING=\"oa:linking\",e.MODERATING=\"oa:moderating\",e.PAINTING=\"sc:painting\",e.QUESTIONING=\"oa:questioning\",e.REPLYING=\"oa:replying\",e.TAGGING=\"oa:tagging\",e.TRANSCRIBING=\"oad:transcribing\"}(t.AnnotationMotivation||(t.AnnotationMotivation={})),function(e){e.AUTO_ADVANCE=\"auto-advance\",e.CONTINUOUS=\"continuous\",e.FACING_PAGES=\"facing-pages\",e.HIDDEN=\"hidden\",e.INDIVIDUALS=\"individuals\",e.MULTI_PART=\"multi-part\",e.NO_NAV=\"no-nav\",e.NON_PAGED=\"non-paged\",e.PAGED=\"paged\",e.REPEAT=\"repeat\",e.SEQUENCE=\"sequence\",e.THUMBNAIL_NAV=\"thumbnail-nav\",e.TOGETHER=\"together\",e.UNORDERED=\"unordered\"}(t.Behavior||(t.Behavior={})),function(e){e.CANVAS=\"canvas\",e.CHOICE=\"choice\",e.CONTENT_AS_TEXT=\"contentastext\",e.DOCUMENT=\"document\",e.IMAGE=\"image\",e.MOVING_IMAGE=\"movingimage\",e.PDF=\"pdf\",e.PHYSICAL_OBJECT=\"physicalobject\",e.SOUND=\"sound\",e.TEXTUALBODY=\"textualbody\",e.VIDEO=\"video\"}(t.ExternalResourceType||(t.ExternalResourceType={})),function(e){e.ANNOTATION=\"annotation\",e.CANVAS=\"canvas\",e.COLLECTION=\"collection\",e.MANIFEST=\"manifest\",e.RANGE=\"range\",e.SEQUENCE=\"sequence\"}(t.IIIFResourceType||(t.IIIFResourceType={})),function(e){e.AUDIO_MP4=\"audio/mp4\",e.CORTO=\"application/corto\",e.DRACO=\"application/draco\",e.GLTF=\"model/gltf+json\",e.JPG=\"image/jpeg\",e.M3U8=\"application/vnd.apple.mpegurl\",e.MP3=\"audio/mp3\",e.MPEG_DASH=\"application/dash+xml\",e.OBJ=\"text/plain\",e.PDF=\"application/pdf\",e.PLY=\"application/ply\",e.THREEJS=\"application/vnd.threejs+json\",e.VIDEO_MP4=\"video/mp4\",e.WEBM=\"video/webm\"}(t.MediaType||(t.MediaType={})),function(e){e.DOC=\"application/msword\",e.DOCX=\"application/vnd.openxmlformats-officedocument.wordprocessingml.document\",e.PDF=\"application/pdf\"}(t.RenderingFormat||(t.RenderingFormat={})),function(e){e.IMAGE_0_COMPLIANCE_LEVEL_0=\"http://library.stanford.edu/iiif/image-api/compliance.html#level0\",e.IMAGE_0_COMPLIANCE_LEVEL_1=\"http://library.stanford.edu/iiif/image-api/compliance.html#level1\",e.IMAGE_0_COMPLIANCE_LEVEL_2=\"http://library.stanford.edu/iiif/image-api/compliance.html#level2\",e.IMAGE_0_CONFORMANCE_LEVEL_0=\"http://library.stanford.edu/iiif/image-api/conformance.html#level0\",e.IMAGE_0_CONFORMANCE_LEVEL_1=\"http://library.stanford.edu/iiif/image-api/conformance.html#level1\",e.IMAGE_0_CONFORMANCE_LEVEL_2=\"http://library.stanford.edu/iiif/image-api/conformance.html#level2\",e.IMAGE_1_COMPLIANCE_LEVEL_0=\"http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level0\",e.IMAGE_1_COMPLIANCE_LEVEL_1=\"http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level1\",e.IMAGE_1_COMPLIANCE_LEVEL_2=\"http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level2\",e.IMAGE_1_CONFORMANCE_LEVEL_0=\"http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level0\",e.IMAGE_1_CONFORMANCE_LEVEL_1=\"http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level1\",e.IMAGE_1_CONFORMANCE_LEVEL_2=\"http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level2\",e.IMAGE_1_LEVEL_0=\"http://iiif.io/api/image/1/level0.json\",e.IMAGE_1_PROFILE_LEVEL_0=\"http://iiif.io/api/image/1/profiles/level0.json\",e.IMAGE_1_LEVEL_1=\"http://iiif.io/api/image/1/level1.json\",e.IMAGE_1_PROFILE_LEVEL_1=\"http://iiif.io/api/image/1/profiles/level1.json\",e.IMAGE_1_LEVEL_2=\"http://iiif.io/api/image/1/level2.json\",e.IMAGE_1_PROFILE_LEVEL_2=\"http://iiif.io/api/image/1/profiles/level2.json\",e.IMAGE_2_LEVEL_0=\"http://iiif.io/api/image/2/level0.json\",e.IMAGE_2_PROFILE_LEVEL_0=\"http://iiif.io/api/image/2/profiles/level0.json\",e.IMAGE_2_LEVEL_1=\"http://iiif.io/api/image/2/level1.json\",e.IMAGE_2_PROFILE_LEVEL_1=\"http://iiif.io/api/image/2/profiles/level1.json\",e.IMAGE_2_LEVEL_2=\"http://iiif.io/api/image/2/level2.json\",e.IMAGE_2_PROFILE_LEVEL_2=\"http://iiif.io/api/image/2/profiles/level2.json\",e.AUTH_0_CLICK_THROUGH=\"http://iiif.io/api/auth/0/login/clickthrough\",e.AUTH_0_LOGIN=\"http://iiif.io/api/auth/0/login\",e.AUTH_0_LOGOUT=\"http://iiif.io/api/auth/0/logout\",e.AUTH_0_RESTRICTED=\"http://iiif.io/api/auth/0/login/restricted\",e.AUTH_0_TOKEN=\"http://iiif.io/api/auth/0/token\",e.AUTH_1_CLICK_THROUGH=\"http://iiif.io/api/auth/1/clickthrough\",e.AUTH_1_EXTERNAL=\"http://iiif.io/api/auth/1/external\",e.AUTH_1_KIOSK=\"http://iiif.io/api/auth/1/kiosk\",e.AUTH_1_LOGIN=\"http://iiif.io/api/auth/1/login\",e.AUTH_1_LOGOUT=\"http://iiif.io/api/auth/1/logout\",e.AUTH_1_PROBE=\"http://iiif.io/api/auth/1/probe\",e.AUTH_1_TOKEN=\"http://iiif.io/api/auth/1/token\",e.SEARCH_0=\"http://iiif.io/api/search/0/search\",e.SEARCH_0_AUTO_COMPLETE=\"http://iiif.io/api/search/0/autocomplete\",e.SEARCH_1=\"http://iiif.io/api/search/1/search\",e.SEARCH_1_AUTO_COMPLETE=\"http://iiif.io/api/search/1/autocomplete\",e.TRACKING_EXTENSIONS=\"http://universalviewer.io/tracking-extensions-profile\",e.UI_EXTENSIONS=\"http://universalviewer.io/ui-extensions-profile\",e.PRINT_EXTENSIONS=\"http://universalviewer.io/print-extensions-profile\",e.SHARE_EXTENSIONS=\"http://universalviewer.io/share-extensions-profile\",e.OTHER_MANIFESTATIONS=\"http://iiif.io/api/otherManifestations.json\",e.IXIF=\"http://wellcomelibrary.org/ld/ixif/0/alpha.json\"}(t.ServiceProfile||(t.ServiceProfile={})),function(e){e.BOTTOM_TO_TOP=\"bottom-to-top\",e.LEFT_TO_RIGHT=\"left-to-right\",e.RIGHT_TO_LEFT=\"right-to-left\",e.TOP_TO_BOTTOM=\"top-to-bottom\"}(t.ViewingDirection||(t.ViewingDirection={})),function(e){e.CONTINUOUS=\"continuous\",e.INDIVIDUALS=\"individuals\",e.NON_PAGED=\"non-paged\",e.PAGED=\"paged\",e.TOP=\"top\"}(t.ViewingHint||(t.ViewingHint={}))},function(e,t,n){\"use strict\";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{u(i.next(e))}catch(e){o(e)}}function s(e){try{u(i.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((i=i.apply(e,t||[])).next())}))},r=this&&this.__generator||function(e,t){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},\"function\"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError(\"Generator is already executing.\");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,\"__esModule\",{value:!0});var o=n(0),a=n(1),s=n(33);n(34);var u=function(){function e(){}return e.getMediaType=function(e){return(e=(e=e.toLowerCase()).split(\";\")[0]).trim()},e.getImageQuality=function(e){return e===a.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_1||e===a.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_2||e===a.ServiceProfile.IMAGE_1_COMPLIANCE_LEVEL_1||e===a.ServiceProfile.IMAGE_1_COMPLIANCE_LEVEL_2||e===a.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_1||e===a.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_2||e===a.ServiceProfile.IMAGE_1_CONFORMANCE_LEVEL_1||e===a.ServiceProfile.IMAGE_1_CONFORMANCE_LEVEL_2||e===a.ServiceProfile.IMAGE_1_LEVEL_1||e===a.ServiceProfile.IMAGE_1_PROFILE_LEVEL_1||e===a.ServiceProfile.IMAGE_1_LEVEL_2||e===a.ServiceProfile.IMAGE_1_PROFILE_LEVEL_2?\"native\":\"default\"},e.getInexactLocale=function(e){return-1!==e.indexOf(\"-\")?e.substr(0,e.indexOf(\"-\")):e},e.getLocalisedValue=function(e,t){if(!Array.isArray(e))return e;for(var n=0;n<e.length;n++){var i=e[n];if(t===i[\"@language\"])return i[\"@value\"]}var r=t.substr(0,t.indexOf(\"-\"));for(n=0;n<e.length;n++){var o=e[n];if(o[\"@language\"]===r)return o[\"@value\"]}return null},e.generateTreeNodeIds=function(t,n){var i;void 0===n&&(n=0),i=t.parentNode?t.parentNode.id+\"-\"+n:\"0\",t.id=i;for(var r=0;r<t.nodes.length;r++){var o=t.nodes[r];e.generateTreeNodeIds(o,r)}},e.normaliseType=function(e){return-1!==(e=e.toLowerCase()).indexOf(\":\")?e.split(\":\")[1]:e},e.normaliseUrl=function(e){return-1!==(e=e.substr(e.indexOf(\"://\"))).indexOf(\"#\")&&(e=e.split(\"#\")[0]),e},e.normalisedUrlsMatch=function(t,n){return e.normaliseUrl(t)===e.normaliseUrl(n)},e.isImageProfile=function(t){return!!(e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_0)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_1)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_2)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_1_COMPLIANCE_LEVEL_0)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_1_COMPLIANCE_LEVEL_2)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_0)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_1)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_2)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_1_CONFORMANCE_LEVEL_1)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_1_CONFORMANCE_LEVEL_2)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_1_LEVEL_0)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_1_PROFILE_LEVEL_0)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_1_LEVEL_1)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_1_PROFILE_LEVEL_1)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_1_LEVEL_2)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_1_PROFILE_LEVEL_2)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_2_LEVEL_0)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_2_PROFILE_LEVEL_0)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_2_LEVEL_1)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_2_PROFILE_LEVEL_1)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_2_LEVEL_2)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_2_PROFILE_LEVEL_2))},e.isLevel0ImageProfile=function(t){return!!(e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_0)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_1_COMPLIANCE_LEVEL_0)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_0)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_1_CONFORMANCE_LEVEL_0)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_1_LEVEL_0)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_1_PROFILE_LEVEL_0)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_2_LEVEL_0)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_2_PROFILE_LEVEL_0))},e.isLevel1ImageProfile=function(t){return!!(e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_1)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_1_COMPLIANCE_LEVEL_1)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_1)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_1_CONFORMANCE_LEVEL_1)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_1_LEVEL_1)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_1_PROFILE_LEVEL_1)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_2_LEVEL_1)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_2_PROFILE_LEVEL_1))},e.isLevel2ImageProfile=function(t){return!!(e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_2)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_1_COMPLIANCE_LEVEL_2)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_2)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_1_CONFORMANCE_LEVEL_2)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_1_LEVEL_2)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_1_PROFILE_LEVEL_2)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_2_LEVEL_2)||e.normalisedUrlsMatch(t,a.ServiceProfile.IMAGE_2_PROFILE_LEVEL_2))},e.parseManifest=function(e,t){return o.Deserialiser.parse(e,t)},e.checkStatus=function(e){if(e.ok)return e;var t=new Error(e.statusText);return t.response=e,Promise.reject(t)},e.loadManifest=function(t){return new Promise((function(n){fetch(t).then(e.checkStatus).then((function(e){return e.json()})).then((function(e){n(e)}))}))},e.loadExternalResourcesAuth1=function(t,n,i,r,o,a,s,u){return new Promise((function(l,c){var p=t.map((function(t){return e.loadExternalResourceAuth1(t,n,i,r,o,a,s,u)}));Promise.all(p).then((function(){l(t)})).catch((function(e){c(e)}))}))},e.loadExternalResourceAuth1=function(t,n,o,a,u,l,c,p){return i(this,void 0,void 0,(function(){var i;return r(this,(function(r){switch(r.label){case 0:return[4,a(t)];case 1:return(i=r.sent())?[4,t.getData(i)]:[3,6];case 2:return r.sent(),t.status!==s.OK?[3,3]:[2,t];case 3:return[4,e.doAuthChain(t,n,o,u,l,c,p)];case 4:r.sent(),r.label=5;case 5:if(t.status===s.OK||t.status===s.MOVED_TEMPORARILY)return[2,t];throw e.createAuthorizationFailedError();case 6:return[4,t.getData()];case 7:return r.sent(),t.status!==s.MOVED_TEMPORARILY&&t.status!==s.UNAUTHORIZED?[3,9]:[4,e.doAuthChain(t,n,o,u,l,c,p)];case 8:r.sent(),r.label=9;case 9:if(t.status===s.OK||t.status===s.MOVED_TEMPORARILY)return[2,t];throw e.createAuthorizationFailedError()}}))}))},e.doAuthChain=function(t,n,o,a,u,l,c){return i(this,void 0,void 0,(function(){var i,p,f,h,d,g,_,v;return r(this,(function(r){switch(r.label){case 0:return t.isAccessControlled()?((i=t.externalService)&&(i.options=t.options),(p=t.kioskService)&&(p.options=t.options),(f=t.clickThroughService)&&(f.options=t.options),(h=t.loginService)&&(h.options=t.options),t.isResponseHandled||t.status!==s.MOVED_TEMPORARILY?[3,2]:[4,l(t)]):[2,t];case 1:return r.sent(),[2,t];case 2:return d=null,g=null,(d=i)?(g=d,[4,e.attemptResourceWithToken(t,o,d)]):[3,4];case 3:return r.sent(),[2,t];case 4:return(d=p)?(g=d,(_=n(d))?[4,a(_)]:[3,7]):[3,7];case 5:return r.sent(),[4,e.attemptResourceWithToken(t,o,d)];case 6:return r.sent(),[2,t];case 7:return(d=f)?(g=d,[4,u(t,d)]):[3,11];case 8:return(v=r.sent())?[4,a(v)]:[3,11];case 9:return r.sent(),[4,e.attemptResourceWithToken(t,o,d)];case 10:return r.sent(),[2,t];case 11:return(d=h)?(g=d,[4,u(t,d)]):[3,15];case 12:return(v=r.sent())?[4,a(v)]:[3,15];case 13:return r.sent(),[4,e.attemptResourceWithToken(t,o,d)];case 14:return r.sent(),[2,t];case 15:return g&&c(t,g),[2]}}))}))},e.attemptResourceWithToken=function(e,t,n){return i(this,void 0,void 0,(function(){var i,o;return r(this,(function(r){switch(r.label){case 0:return(i=n.getService(a.ServiceProfile.AUTH_1_TOKEN))?[4,t(e,i)]:[3,3];case 1:return(o=r.sent())&&o.accessToken?[4,e.getData(o)]:[3,3];case 2:return r.sent(),[2,e];case 3:return[2]}}))}))},e.loadExternalResourcesAuth09=function(t,n,i,r,o,a,s,u,l,c){return new Promise((function(p,f){var h=t.map((function(t){return e.loadExternalResourceAuth09(t,n,i,r,o,a,s,u,l,c)}));Promise.all(h).then((function(){p(t)})).catch((function(e){f(e)}))}))},e.loadExternalResourceAuth09=function(t,n,i,r,o,a,u,l,c,p){return new Promise((function(f,h){p&&p.pessimisticAccessControl?t.getData().then((function(){t.isAccessControlled()?t.clickThroughService?(f(i(t)),f(r(t))):o(t).then((function(){a(t,!0).then((function(n){t.getData(n).then((function(){f(c(t))})).catch((function(t){h(e.createInternalServerError(t))}))})).catch((function(t){h(e.createInternalServerError(t))}))})).catch((function(t){h(e.createInternalServerError(t))})):f(t)})).catch((function(t){h(e.createInternalServerError(t))})):l(t,n).then((function(p){p?t.getData(p).then((function(){t.status===s.OK?f(c(t)):e.authorize(t,n,i,r,o,a,u,l).then((function(){f(c(t))})).catch((function(t){h(e.createAuthorizationFailedError())}))})).catch((function(t){h(e.createAuthorizationFailedError())})):e.authorize(t,n,i,r,o,a,u,l).then((function(){f(c(t))})).catch((function(t){h(e.createAuthorizationFailedError())}))})).catch((function(t){h(e.createAuthorizationFailedError())}))}))},e.createError=function(e,t){var n=new Error;return n.message=t,n.name=String(e),n},e.createAuthorizationFailedError=function(){return e.createError(o.StatusCode.AUTHORIZATION_FAILED,\"Authorization failed\")},e.createRestrictedError=function(){return e.createError(o.StatusCode.RESTRICTED,\"Restricted\")},e.createInternalServerError=function(t){return e.createError(o.StatusCode.INTERNAL_SERVER_ERROR,t)},e.authorize=function(t,n,i,r,o,a,u,l){return new Promise((function(c,p){t.getData().then((function(){t.isAccessControlled()?l(t,n).then((function(l){l?t.getData(l).then((function(){t.status===s.OK?c(t):e.showAuthInteraction(t,n,i,r,o,a,u,c,p)})).catch((function(t){p(e.createInternalServerError(t))})):a(t,!1).then((function(l){l?u(t,l,n).then((function(){t.getData(l).then((function(){t.status===s.OK?c(t):e.showAuthInteraction(t,n,i,r,o,a,u,c,p)})).catch((function(t){p(e.createInternalServerError(t))}))})).catch((function(t){p(e.createInternalServerError(t))})):e.showAuthInteraction(t,n,i,r,o,a,u,c,p)}))})).catch((function(t){p(e.createInternalServerError(t))})):c(t)}))}))},e.showAuthInteraction=function(t,n,i,r,o,a,u,l,c){t.status!==s.MOVED_TEMPORARILY||t.isResponseHandled?t.clickThroughService&&!t.isResponseHandled?i(t).then((function(){a(t,!0).then((function(i){u(t,i,n).then((function(){t.getData(i).then((function(){l(t)})).catch((function(t){c(e.createInternalServerError(t))}))})).catch((function(t){c(e.createInternalServerError(t))}))})).catch((function(t){c(e.createInternalServerError(t))}))})):o(t).then((function(){a(t,!0).then((function(i){u(t,i,n).then((function(){t.getData(i).then((function(){l(t)})).catch((function(t){c(e.createInternalServerError(t))}))})).catch((function(t){c(e.createInternalServerError(t))}))})).catch((function(t){c(e.createInternalServerError(t))}))})):l(t)},e.getService=function(e,t){for(var n=this.getServices(e),i=0;i<n.length;i++){var r=n[i];if(r.getProfile()===t)return r}return null},e.getResourceById=function(t,n){return e.traverseAndFind(t.__jsonld,\"@id\",n)},e.traverseAndFind=function(t,n,i){if(t.hasOwnProperty(n)&&t[n]===i)return t;for(var r=0;r<Object.keys(t).length;r++)if(\"object\"==typeof t[Object.keys(t)[r]]){var o=e.traverseAndFind(t[Object.keys(t)[r]],n,i);if(null!=o)return o}},e.getServices=function(e){var t,n=[];if(!(t=e.__jsonld?e.__jsonld.service:e.service))return n;Array.isArray(t)||(t=[t]);for(var i=0;i<t.length;i++){var r=t[i];if(\"string\"==typeof r){var a=this.getResourceById(e.options.resource,r);a&&n.push(new o.Service(a.__jsonld||a,e.options))}else n.push(new o.Service(r,e.options))}return n},e.getTemporalComponent=function(e){var t=/t=([^&]+)/g.exec(e),n=null;return t&&t[1]&&(n=t[1].split(\",\")),n},e}();t.Utils=u},function(e,t,n){\"use strict\";n.r(t),t.default=function(e,t){return t=t||{},new Promise((function(n,i){var r=new XMLHttpRequest,o=[],a=[],s={},u=function(){return{ok:2==(r.status/100|0),statusText:r.statusText,status:r.status,url:r.responseURL,text:function(){return Promise.resolve(r.responseText)},json:function(){return Promise.resolve(JSON.parse(r.responseText))},blob:function(){return Promise.resolve(new Blob([r.response]))},clone:u,headers:{keys:function(){return o},entries:function(){return a},get:function(e){return s[e.toLowerCase()]},has:function(e){return e.toLowerCase()in s}}}};for(var l in r.open(t.method||\"get\",e,!0),r.onload=function(){r.getAllResponseHeaders().replace(/^(.*?):[^\\S\\n]*([\\s\\S]*?)$/gm,(function(e,t,n){o.push(t=t.toLowerCase()),a.push([t,n]),s[t]=s[t]?s[t]+\",\"+n:n})),n(u())},r.onerror=i,r.withCredentials=\"include\"==t.credentials,t.headers)r.setRequestHeader(l,t.headers[l]);r.send(t.body||null)}))}},function(e,t,n){e.exports=n(5)},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(0));var i=n(2);t.loadManifest=function(e){return i.Utils.loadManifest(e)},t.parseManifest=function(e,t){return i.Utils.parseManifest(e,t)}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i=function(){function e(e){this.__jsonld=e,this.context=this.getProperty(\"context\"),this.id=this.getProperty(\"id\")}return e.prototype.getProperty=function(e){var t=null;return this.__jsonld&&((t=this.__jsonld[e])||(t=this.__jsonld[\"@\"+e])),t},e}();t.JSONLDResource=i},function(e,t,n){\"use strict\";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,\"__esModule\",{value:!0});var o=n(0),a=n(1),s=function(e){function t(t,n){var i=e.call(this,t)||this;return i.options=n,i}return r(t,e),t.prototype.getIIIFResourceType=function(){return o.Utils.normaliseType(this.getProperty(\"type\"))},t.prototype.getLabel=function(){var e=this.getProperty(\"label\");return e?o.LanguageMap.parse(e,this.options.locale):[]},t.prototype.getDefaultLabel=function(){return o.LanguageMap.getValue(this.getLabel())},t.prototype.getMetadata=function(){var e=this.getProperty(\"metadata\"),t=[];if(!e)return t;for(var n=0;n<e.length;n++){var i=e[n],r=new o.LabelValuePair(this.options.locale);r.parse(i),t.push(r)}return t},t.prototype.getRendering=function(e){for(var t=this.getRenderings(),n=0;n<t.length;n++){var i=t[n];if(i.getFormat()===e)return i}return null},t.prototype.getRenderings=function(){var e,t=[];if(!(e=this.__jsonld?this.__jsonld.rendering:this.rendering))return t;Array.isArray(e)||(e=[e]);for(var n=0;n<e.length;n++){var i=e[n];t.push(new o.Rendering(i,this.options))}return t},t.prototype.getService=function(e){return o.Utils.getService(this,e)},t.prototype.getServices=function(){return o.Utils.getServices(this)},t.prototype.getThumbnail=function(){var e=this.getProperty(\"thumbnail\");return Array.isArray(e)&&(e=e[0]),e?new o.Thumbnail(e,this.options):null},t.prototype.isAnnotation=function(){return this.getIIIFResourceType()===a.IIIFResourceType.ANNOTATION},t.prototype.isCanvas=function(){return this.getIIIFResourceType()===a.IIIFResourceType.CANVAS},t.prototype.isCollection=function(){return this.getIIIFResourceType()===a.IIIFResourceType.COLLECTION},t.prototype.isManifest=function(){return this.getIIIFResourceType()===a.IIIFResourceType.MANIFEST},t.prototype.isRange=function(){return this.getIIIFResourceType()===a.IIIFResourceType.RANGE},t.prototype.isSequence=function(){return this.getIIIFResourceType()===a.IIIFResourceType.SEQUENCE},t}(o.JSONLDResource);t.ManifestResource=s},function(e,t,n){\"use strict\";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,\"__esModule\",{value:!0});var o=n(0),a=function(e){function t(t,n){return e.call(this,t,n)||this}return r(t,e),t.prototype.getFormat=function(){var e=this.getProperty(\"format\");return e?e.toLowerCase():null},t.prototype.getResources=function(){var e=[];if(!this.__jsonld.resources)return e;for(var t=0;t<this.__jsonld.resources.length;t++){var n=this.__jsonld.resources[t],i=new o.Annotation(n,this.options);e.push(i)}return e},t.prototype.getType=function(){var e=this.getProperty(\"type\");return e?o.Utils.normaliseType(e):null},t.prototype.getWidth=function(){return this.getProperty(\"width\")},t.prototype.getHeight=function(){return this.getProperty(\"height\")},t.prototype.getMaxWidth=function(){return this.getProperty(\"maxWidth\")},t.prototype.getMaxHeight=function(){return this.getProperty(\"maxHeight\")?null:this.getMaxWidth()},t}(o.ManifestResource);t.Resource=a},function(e,t,n){\"use strict\";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,\"__esModule\",{value:!0});var o=n(0),a=n(1),s=function(e){function t(t,n){var i=e.call(this,t,n)||this;i.index=-1,i.isLoaded=!1;var r={defaultLabel:\"-\",locale:\"en-GB\",resource:i,pessimisticAccessControl:!1};return i.options=Object.assign(r,n),i}return r(t,e),t.prototype.getAttribution=function(){var e=this.getProperty(\"attribution\");return e?o.LanguageMap.parse(e,this.options.locale):[]},t.prototype.getDescription=function(){var e=this.getProperty(\"description\");return e?o.LanguageMap.parse(e,this.options.locale):[]},t.prototype.getIIIFResourceType=function(){return o.Utils.normaliseType(this.getProperty(\"type\"))},t.prototype.getLogo=function(){var e=this.getProperty(\"logo\");return e?\"string\"==typeof e?e:(Array.isArray(e)&&e.length&&(e=e[0]),e[\"@id\"]||e.id):null},t.prototype.getLicense=function(){return o.Utils.getLocalisedValue(this.getProperty(\"license\"),this.options.locale)},t.prototype.getNavDate=function(){return new Date(this.getProperty(\"navDate\"))},t.prototype.getRelated=function(){return this.getProperty(\"related\")},t.prototype.getSeeAlso=function(){return this.getProperty(\"seeAlso\")},t.prototype.getTrackingLabel=function(){var e=this.getService(a.ServiceProfile.TRACKING_EXTENSIONS);return e?e.getProperty(\"trackingLabel\"):\"\"},t.prototype.getDefaultTree=function(){return this.defaultTree=new o.TreeNode(\"root\"),this.defaultTree.data=this,this.defaultTree},t.prototype.getRequiredStatement=function(){var e=null,t=this.getProperty(\"requiredStatement\");if(t)(e=new o.LabelValuePair(this.options.locale)).parse(t);else{var n=this.getAttribution();n&&((e=new o.LabelValuePair(this.options.locale)).value=n)}return e},t.prototype.isCollection=function(){return this.getIIIFResourceType()===a.IIIFResourceType.COLLECTION},t.prototype.isManifest=function(){return this.getIIIFResourceType()===a.IIIFResourceType.MANIFEST},t.prototype.load=function(){var e=this;return new Promise((function(t){if(e.isLoaded)t(e);else{var n=e.options;n.navDate=e.getNavDate();var i=e.__jsonld.id;i||(i=e.__jsonld[\"@id\"]),o.Utils.loadManifest(i).then((function(i){e.parentLabel=o.LanguageMap.getValue(e.getLabel(),n.locale);var r=o.Deserialiser.parse(i,n);(e=Object.assign(e,r)).index=n.index,t(e)}))}}))},t}(o.ManifestResource);t.IIIFResource=s},function(e,t,n){\"use strict\";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,\"__esModule\",{value:!0});var o=n(0),a=function(e){function t(t,n){return e.call(this,t,n)||this}return r(t,e),t.prototype.getBody=function(){var e=[],t=this.getProperty(\"body\");if(t)if(Array.isArray(t))for(var n=0;n<t.length;n++)if((a=t[n]).items)for(var i=0;i<a.items.length;i++){var r=a.items[i];e.push(new o.AnnotationBody(r,this.options))}else e.push(new o.AnnotationBody(a,this.options));else if(t.items)for(n=0;n<t.items.length;n++){var a=t.items[n];e.push(new o.AnnotationBody(a,this.options))}else e.push(new o.AnnotationBody(t,this.options));return e},t.prototype.getMotivation=function(){return this.getProperty(\"motivation\")||null},t.prototype.getOn=function(){return this.getProperty(\"on\")},t.prototype.getTarget=function(){return this.getProperty(\"target\")},t.prototype.getResource=function(){return new o.Resource(this.getProperty(\"resource\"),this.options)},t}(o.ManifestResource);t.Annotation=a},function(e,t,n){\"use strict\";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,\"__esModule\",{value:!0});var o=n(0),a=function(e){function t(t,n){return e.call(this,t,n)||this}return r(t,e),t.prototype.getFormat=function(){var e=this.getProperty(\"format\");return e?o.Utils.getMediaType(e):null},t.prototype.getType=function(){return this.getProperty(\"type\")?o.Utils.normaliseType(this.getProperty(\"type\")):null},t.prototype.getWidth=function(){return this.getProperty(\"width\")},t.prototype.getHeight=function(){return this.getProperty(\"height\")},t}(o.ManifestResource);t.AnnotationBody=a},function(e,t,n){\"use strict\";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,\"__esModule\",{value:!0});var o=n(0),a=function(e){function t(t,n,i){var r=e.call(this,n)||this;return r.label=t,r.options=i,r}return r(t,e),t.prototype.getIIIFResourceType=function(){return o.Utils.normaliseType(this.getProperty(\"type\"))},t.prototype.getLabel=function(){return this.label},t.prototype.getResources=function(){var e=this;return this.getProperty(\"resources\").map((function(t){return new o.Annotation(t,e.options)}))},t.prototype.load=function(){var e=this;return new Promise((function(t,n){if(e.isLoaded)t(e);else{var i=e.__jsonld.id;i||(i=e.__jsonld[\"@id\"]),o.Utils.loadManifest(i).then((function(n){e.__jsonld=n,e.context=e.getProperty(\"context\"),e.id=e.getProperty(\"id\"),e.isLoaded=!0,t(e)})).catch(n)}}))},t}(o.JSONLDResource);t.AnnotationList=a},function(e,t,n){\"use strict\";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,\"__esModule\",{value:!0});var o=function(e){function t(t,n){return e.call(this,t,n)||this}return r(t,e),t.prototype.getItems=function(){return this.getProperty(\"items\")},t}(n(0).ManifestResource);t.AnnotationPage=o},function(e,t,n){\"use strict\";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,\"__esModule\",{value:!0});var o=n(0),a=function(e){function t(t,n){return e.call(this,t,n)||this}return r(t,e),t.prototype.getCanonicalImageUri=function(e){var t,n=null,i=\"default\",r=e;if(this.externalResource&&this.externalResource.data&&this.externalResource.data[\"@id\"])n=this.externalResource.data[\"@id\"],r||(r=this.externalResource.data.width),this.externalResource.data[\"@context\"]&&(this.externalResource.data[\"@context\"].indexOf(\"/1.0/context.json\")>-1||this.externalResource.data[\"@context\"].indexOf(\"/1.1/context.json\")>-1||this.externalResource.data[\"@context\"].indexOf(\"/1/context.json\")>-1)&&(i=\"native\");else{var a=this.getImages();if(a&&a.length){var s=a[0].getResource(),u=s.getServices();if(r||(r=s.getWidth()),u.length){var l=u[0];n=l.id,i=o.Utils.getImageQuality(l.getProfile())}else if(r===s.getWidth())return s.id}if(!n){var c=this.getProperty(\"thumbnail\");if(c){if(\"string\"==typeof c)return c;if(c[\"@id\"])return c[\"@id\"];if(c.length)return c[0].id}}}return t=r+\",\",n&&n.endsWith(\"/\")&&(n=n.substr(0,n.length-1)),[n,\"full\",t,0,i+\".jpg\"].join(\"/\")},t.prototype.getMaxDimensions=function(){var e,t=null;return this.externalResource&&this.externalResource.data&&this.externalResource.data.profile&&(e=this.externalResource.data.profile,Array.isArray(e)&&(e=e.filter((function(e){return e.maxWidth}))[0])&&(t=new o.Size(e.maxWidth,e.maxHeight?e.maxHeight:e.maxWidth))),t},t.prototype.getContent=function(){var e=[],t=this.__jsonld.items||this.__jsonld.content;if(!t)return e;var n=null;if(t.length&&(n=new o.AnnotationPage(t[0],this.options)),!n)return e;for(var i=n.getItems(),r=0;r<i.length;r++){var a=i[r],s=new o.Annotation(a,this.options);e.push(s)}return e},t.prototype.getDuration=function(){return this.getProperty(\"duration\")},t.prototype.getImages=function(){var e=[];if(!this.__jsonld.images)return e;for(var t=0;t<this.__jsonld.images.length;t++){var n=this.__jsonld.images[t],i=new o.Annotation(n,this.options);e.push(i)}return e},t.prototype.getIndex=function(){return this.getProperty(\"index\")},t.prototype.getOtherContent=function(){var e=this,t=(Array.isArray(this.getProperty(\"otherContent\"))?this.getProperty(\"otherContent\"):[this.getProperty(\"otherContent\")]).filter((function(e){return e&&\"string\"==typeof(t=e[\"@type\"])&&t.toLowerCase()==t.toLowerCase();var t})).map((function(t,n){return new o.AnnotationList(t.label||\"Annotation list \"+n,t,e.options)})).map((function(e){return e.load()}));return Promise.all(t)},t.prototype.getWidth=function(){return this.getProperty(\"width\")},t.prototype.getHeight=function(){return this.getProperty(\"height\")},t}(o.Resource);t.Canvas=a},function(e,t,n){\"use strict\";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,\"__esModule\",{value:!0});var o=n(1),a=n(0),s=function(e){function t(t,n){var i=e.call(this,t,n)||this;return i.items=[],i._collections=null,i._manifests=null,t.__collection=i,i}return r(t,e),t.prototype.getCollections=function(){return this._collections?this._collections:this._collections=this.items.filter((function(e){return e.isCollection()}))},t.prototype.getManifests=function(){return this._manifests?this._manifests:this._manifests=this.items.filter((function(e){return e.isManifest()}))},t.prototype.getCollectionByIndex=function(e){for(var t,n=this.getCollections(),i=0;i<n.length;i++){var r=n[i];r.index===e&&(t=r)}if(t)return t.options.index=e,t.load();throw new Error(\"Collection index not found\")},t.prototype.getManifestByIndex=function(e){for(var t,n=this.getManifests(),i=0;i<n.length;i++){var r=n[i];r.index===e&&(t=r)}if(t)return t.options.index=e,t.load();throw new Error(\"Manifest index not found\")},t.prototype.getTotalCollections=function(){return this.getCollections().length},t.prototype.getTotalManifests=function(){return this.getManifests().length},t.prototype.getTotalItems=function(){return this.items.length},t.prototype.getViewingDirection=function(){return this.getProperty(\"viewingDirection\")?this.getProperty(\"viewingDirection\"):o.ViewingDirection.LEFT_TO_RIGHT},t.prototype.getDefaultTree=function(){return e.prototype.getDefaultTree.call(this),this.defaultTree.data.type=a.Utils.normaliseType(a.TreeNodeType.COLLECTION),this._parseManifests(this),this._parseCollections(this),a.Utils.generateTreeNodeIds(this.defaultTree),this.defaultTree},t.prototype._parseManifests=function(e){if(e.getManifests()&&e.getManifests().length)for(var t=0;t<e.getManifests().length;t++){var n=e.getManifests()[t],i=n.getDefaultTree();i.label=n.parentLabel||a.LanguageMap.getValue(n.getLabel(),this.options.locale)||\"manifest \"+(t+1),i.navDate=n.getNavDate(),i.data.id=n.id,i.data.type=a.Utils.normaliseType(a.TreeNodeType.MANIFEST),e.defaultTree.addNode(i)}},t.prototype._parseCollections=function(e){if(e.getCollections()&&e.getCollections().length)for(var t=0;t<e.getCollections().length;t++){var n=e.getCollections()[t],i=n.getDefaultTree();i.label=n.parentLabel||a.LanguageMap.getValue(n.getLabel(),this.options.locale)||\"collection \"+(t+1),i.navDate=n.getNavDate(),i.data.id=n.id,i.data.type=a.Utils.normaliseType(a.TreeNodeType.COLLECTION),e.defaultTree.addNode(i)}},t}(a.IIIFResource);t.Collection=s},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i=function(){function e(e,t){this.start=e,this.end=t}return e.prototype.getLength=function(){return this.end-this.start},e}();t.Duration=i},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i=n(0),r=function(){function e(e){this.defaultLocale=e}return e.prototype.parse=function(e){this.resource=e,this.label=i.LanguageMap.parse(this.resource.label,this.defaultLocale),this.value=i.LanguageMap.parse(this.resource.value,this.defaultLocale)},e.prototype.getLabel=function(){return this.label?i.LanguageMap.getValue(this.label,this.defaultLocale):null},e.prototype.setLabel=function(e){var t=this;if(this.label&&this.label.length){var n=this.label.filter((function(e){return e.locale===t.defaultLocale||e.locale===i.Utils.getInexactLocale(t.defaultLocale)}))[0];n&&(n.value=e)}},e.prototype.getValue=function(){if(this.value){var e=this.defaultLocale;return this.label&&this.label.length&&this.label[0].locale&&(e=this.label[0].locale),i.LanguageMap.getValue(this.value,e)}return null},e.prototype.setValue=function(e){var t=this;if(this.value&&this.value.length){var n=this.value.filter((function(e){return e.locale===t.defaultLocale||e.locale===i.Utils.getInexactLocale(t.defaultLocale)}))[0];n&&(n.value=e)}},e}();t.LabelValuePair=r},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.Language=function(e,t){Array.isArray(e)?1===e.length?this.value=e[0]:this.value=e.join(\"<br/>\"):this.value=e,this.locale=t}},function(e,t,n){\"use strict\";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,\"__esModule\",{value:!0});var o=n(0),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.parse=function(e,t){var n,i=[];if(!e)return i;if(Array.isArray(e))for(var r=0;r<e.length;r++){var a=e[r];n=\"string\"==typeof a?new o.Language(a,t):new o.Language(a[\"@value\"],a[\"@language\"]||t),i.push(n)}else{if(\"string\"==typeof e)return n=new o.Language(e,t),i.push(n),i;e[\"@value\"]?(n=new o.Language(e[\"@value\"],e[\"@language\"]||t),i.push(n)):Object.keys(e).forEach((function(t){if(!e[t].length)throw new Error(\"language must have a value\");n=new o.Language(e[t],t),i.push(n)}))}return i},t.getValue=function(e,t){if(e.length){if(t){var n=e.filter((function(e){return e.locale===t||o.Utils.getInexactLocale(e.locale)===o.Utils.getInexactLocale(t)}))[0];if(n)return n.value}return e[0].value}return null},t}(Array);t.LanguageMap=a},function(e,t,n){\"use strict\";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,\"__esModule\",{value:!0});var o=n(1),a=n(0),s=function(e){function t(t,n){var i=e.call(this,t,n)||this;if(i.index=0,i._allRanges=null,i.items=[],i._topRanges=[],i.__jsonld.structures&&i.__jsonld.structures.length)for(var r=i._getTopRanges(),o=0;o<r.length;o++){var a=r[o];i._parseRanges(a,String(o))}return i}return r(t,e),t.prototype.getPosterCanvas=function(){var e=this.getProperty(\"posterCanvas\");return e&&(e=new a.Canvas(e,this.options)),e},t.prototype.getBehavior=function(){var e=this.getProperty(\"behavior\");return Array.isArray(e)&&(e=e[0]),e||null},t.prototype.getDefaultTree=function(){if(e.prototype.getDefaultTree.call(this),this.defaultTree.data.type=a.Utils.normaliseType(a.TreeNodeType.MANIFEST),!this.isLoaded)return this.defaultTree;var t=this.getTopRanges();return t.length&&t[0].getTree(this.defaultTree),a.Utils.generateTreeNodeIds(this.defaultTree),this.defaultTree},t.prototype._getTopRanges=function(){var e=[];if(this.__jsonld.structures&&this.__jsonld.structures.length){for(var t=0;t<this.__jsonld.structures.length;t++){var n=this.__jsonld.structures[t];n.viewingHint===o.ViewingHint.TOP&&e.push(n)}if(!e.length){var i={};i.ranges=this.__jsonld.structures,e.push(i)}}return e},t.prototype.getTopRanges=function(){return this._topRanges},t.prototype._getRangeById=function(e){if(this.__jsonld.structures&&this.__jsonld.structures.length)for(var t=0;t<this.__jsonld.structures.length;t++){var n=this.__jsonld.structures[t];if(n[\"@id\"]===e||n.id===e)return n}return null},t.prototype._parseRanges=function(e,t,n){var i,r=null;if(\"string\"==typeof e&&(r=e,e=this._getRangeById(r)),e){(i=new a.Range(e,this.options)).parentRange=n,i.path=t,n?n.items.push(i):this._topRanges.push(i);var o=e.items||e.members;if(o)for(var s=0;s<o.length;s++){var u=o[s];if(u[\"@type\"]&&\"sc:range\"===u[\"@type\"].toLowerCase()||u.type&&\"range\"===u.type.toLowerCase())this._parseRanges(u,t+\"/\"+s,i);else if(u[\"@type\"]&&\"sc:canvas\"===u[\"@type\"].toLowerCase()||u.type&&\"canvas\"===u.type.toLowerCase()){i.canvases||(i.canvases=[]);var l=u.id||u[\"@id\"];i.canvases.push(l)}}else if(e.ranges)for(s=0;s<e.ranges.length;s++)this._parseRanges(e.ranges[s],t+\"/\"+s,i)}else console.warn(\"Range:\",r,\"does not exist\")},t.prototype.getAllRanges=function(){if(null!=this._allRanges)return this._allRanges;this._allRanges=[];for(var e=this.getTopRanges(),t=function(t){var i=e[t];i.id&&n._allRanges.push(i);var r=function(e,t){e.add(t);var n=t.getRanges();return n.length?n.reduce(r,e):e},o=Array.from(i.getRanges().reduce(r,new Set));n._allRanges=n._allRanges.concat(o)},n=this,i=0;i<e.length;i++)t(i);return this._allRanges},t.prototype.getRangeById=function(e){for(var t=this.getAllRanges(),n=0;n<t.length;n++){var i=t[n];if(i.id===e)return i}return null},t.prototype.getRangeByPath=function(e){for(var t=this.getAllRanges(),n=0;n<t.length;n++){var i=t[n];if(i.path===e)return i}return null},t.prototype.getSequences=function(){if(this.items.length)return this.items;var e=this.__jsonld.mediaSequences||this.__jsonld.sequences;if(e)for(var t=0;t<e.length;t++){var n=e[t],i=new a.Sequence(n,this.options);this.items.push(i)}else this.__jsonld.items&&(i=new a.Sequence(this.__jsonld.items,this.options),this.items.push(i));return this.items},t.prototype.getSequenceByIndex=function(e){return this.getSequences()[e]},t.prototype.getTotalSequences=function(){return this.getSequences().length},t.prototype.getManifestType=function(){var e=this.getService(o.ServiceProfile.UI_EXTENSIONS);return e?e.getProperty(\"manifestType\"):a.ManifestType.EMPTY},t.prototype.isMultiSequence=function(){return this.getTotalSequences()>1},t.prototype.isPagingEnabled=function(){var e=this.getViewingHint();if(e)return e===o.ViewingHint.PAGED;var t=this.getBehavior();return!!t&&t===o.Behavior.PAGED},t.prototype.getViewingDirection=function(){return this.getProperty(\"viewingDirection\")},t.prototype.getViewingHint=function(){return this.getProperty(\"viewingHint\")},t}(a.IIIFResource);t.Manifest=s},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),function(e){e.EMPTY=\"\",e.MANUSCRIPT=\"manuscript\",e.MONOGRAPH=\"monograph\"}(t.ManifestType||(t.ManifestType={}))},function(e,t,n){\"use strict\";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,\"__esModule\",{value:!0});var o=n(0),a=n(1),s=function(e){function t(t,n){var i=e.call(this,t,n)||this;return i._ranges=null,i.canvases=null,i.items=[],i}return r(t,e),t.prototype.getCanvasIds=function(){return this.__jsonld.canvases?this.__jsonld.canvases:this.canvases?this.canvases:[]},t.prototype.getDuration=function(){var e,t;if(this.canvases&&this.canvases.length)for(var n=0;n<this.canvases.length;n++){var i=this.canvases[n],r=o.Utils.getTemporalComponent(i);r&&r.length>1&&(0===n&&(e=Number(r[0])),n===this.canvases.length-1&&(t=Number(r[1])))}else{var a=this.getRanges();for(n=0;n<a.length;n++){var s=a[n].getDuration();s&&(0===n&&(e=s.start),n===a.length-1&&(t=s.end))}}if(void 0!==e&&void 0!==t)return new o.Duration(e,t)},t.prototype.getRanges=function(){return this._ranges?this._ranges:this._ranges=this.items.filter((function(e){return e.isRange()}))},t.prototype.getBehavior=function(){var e=this.getProperty(\"behavior\");return Array.isArray(e)&&(e=e[0]),e||null},t.prototype.getViewingDirection=function(){return this.getProperty(\"viewingDirection\")},t.prototype.getViewingHint=function(){return this.getProperty(\"viewingHint\")},t.prototype.getTree=function(e){e.data=this,this.treeNode=e;var t=this.getRanges();if(t&&t.length)for(var n=0;n<t.length;n++){var i=t[n],r=new o.TreeNode;e.addNode(r),this._parseTreeNode(r,i)}return o.Utils.generateTreeNodeIds(e),e},t.prototype.spansTime=function(e){var t=this.getDuration();return!!(t&&e>=t.start&&e<=t.end)},t.prototype._parseTreeNode=function(e,t){e.label=o.LanguageMap.getValue(t.getLabel(),this.options.locale),e.data=t,e.data.type=o.Utils.normaliseType(o.TreeNodeType.RANGE),t.treeNode=e;var n=t.getRanges();if(n&&n.length)for(var i=0;i<n.length;i++){var r=n[i];if(r.getBehavior()!==a.Behavior.NO_NAV){var s=new o.TreeNode;e.addNode(s),this._parseTreeNode(s,r)}}},t}(o.ManifestResource);t.Range=s},function(e,t,n){\"use strict\";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,\"__esModule\",{value:!0});var o=function(e){function t(t,n){return e.call(this,t,n)||this}return r(t,e),t.prototype.getFormat=function(){return this.getProperty(\"format\")},t}(n(0).ManifestResource);t.Rendering=o},function(e,t,n){\"use strict\";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,\"__esModule\",{value:!0});var o=n(1),a=n(0),s=function(e){function t(t,n){var i=e.call(this,t,n)||this;return i.items=[],i._thumbnails=null,i}return r(t,e),t.prototype.getCanvases=function(){if(this.items.length)return this.items;var e=this.__jsonld.canvases||this.__jsonld.elements;if(e)for(var t=0;t<e.length;t++){var n=e[t];(i=new a.Canvas(n,this.options)).index=t,this.items.push(i)}else if(this.__jsonld)for(t=0;t<this.__jsonld.length;t++){var i;n=this.__jsonld[t],(i=new a.Canvas(n,this.options)).index=t,this.items.push(i)}return this.items},t.prototype.getCanvasById=function(e){for(var t=0;t<this.getTotalCanvases();t++){var n=this.getCanvasByIndex(t),i=a.Utils.normaliseUrl(n.id);if(a.Utils.normaliseUrl(e)===i)return n}return null},t.prototype.getCanvasByIndex=function(e){return this.getCanvases()[e]},t.prototype.getCanvasIndexById=function(e){for(var t=0;t<this.getTotalCanvases();t++)if(this.getCanvasByIndex(t).id===e)return t;return null},t.prototype.getCanvasIndexByLabel=function(e,t){e=e.trim(),isNaN(e)||(e=parseInt(e,10).toString(),t&&(e+=\"r\"));for(var n,i,r,o=/(\\d*)\\D+(\\d*)/,s=0;s<this.getTotalCanvases();s++){var u=this.getCanvasByIndex(s);if(a.LanguageMap.getValue(u.getLabel(),this.options.locale)===e)return s;if((n=o.exec(e))&&(i=n[1],(r=n[2])&&new RegExp(\"^\"+i+\"\\\\D+\"+r+\"$\").test(u.getLabel().toString())))return s}return-1},t.prototype.getLastCanvasLabel=function(e){for(var t=this.getTotalCanvases()-1;t>=0;t--){var n=this.getCanvasByIndex(t),i=a.LanguageMap.getValue(n.getLabel(),this.options.locale);if(e){if(/^[a-zA-Z0-9]*$/.test(i))return i}else if(i)return i}return this.options.defaultLabel},t.prototype.getLastPageIndex=function(){return this.getTotalCanvases()-1},t.prototype.getNextPageIndex=function(e,t){var n;if(t){var i=this.getPagedIndices(e),r=this.getViewingDirection();n=r&&r===o.ViewingDirection.RIGHT_TO_LEFT?i[0]+1:i[i.length-1]+1}else n=e+1;return n>this.getLastPageIndex()?-1:n},t.prototype.getPagedIndices=function(e,t){var n=[];if(t){n=this.isFirstCanvas(e)||this.isLastCanvas(e)?[e]:e%2?[e,e+1]:[e-1,e];var i=this.getViewingDirection();i&&i===o.ViewingDirection.RIGHT_TO_LEFT&&(n=n.reverse())}else n.push(e);return n},t.prototype.getPrevPageIndex=function(e,t){var n;if(t){var i=this.getPagedIndices(e),r=this.getViewingDirection();n=r&&r===o.ViewingDirection.RIGHT_TO_LEFT?i[i.length-1]-1:i[0]-1}else n=e-1;return n},t.prototype.getStartCanvasIndex=function(){var e=this.getStartCanvas();if(e)for(var t=0;t<this.getTotalCanvases();t++)if(this.getCanvasByIndex(t).id===e)return t;return 0},t.prototype.getThumbs=function(e,t){for(var n=[],i=this.getTotalCanvases(),r=0;r<i;r++){var o=this.getCanvasByIndex(r),s=new a.Thumb(e,o);n.push(s)}return n},t.prototype.getThumbnails=function(){if(null!=this._thumbnails)return this._thumbnails;this._thumbnails=[];for(var e=this.getCanvases(),t=0;t<e.length;t++){var n=e[t].getThumbnail();n&&this._thumbnails.push(n)}return this._thumbnails},t.prototype.getStartCanvas=function(){return this.getProperty(\"startCanvas\")},t.prototype.getTotalCanvases=function(){return this.getCanvases().length},t.prototype.getViewingDirection=function(){return this.getProperty(\"viewingDirection\")?this.getProperty(\"viewingDirection\"):this.options.resource.getViewingDirection?this.options.resource.getViewingDirection():null},t.prototype.getViewingHint=function(){return this.getProperty(\"viewingHint\")},t.prototype.isCanvasIndexOutOfRange=function(e){return e>this.getTotalCanvases()-1},t.prototype.isFirstCanvas=function(e){return 0===e},t.prototype.isLastCanvas=function(e){return e===this.getTotalCanvases()-1},t.prototype.isMultiCanvas=function(){return this.getTotalCanvases()>1},t.prototype.isPagingEnabled=function(){var e=this.getViewingHint();return!!e&&e===o.ViewingHint.PAGED},t.prototype.isTotalCanvasesEven=function(){return this.getTotalCanvases()%2==0},t}(a.ManifestResource);t.Sequence=s},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i=n(0),r=function(){function e(){}return e.parse=function(e,t){return\"string\"==typeof e&&(e=JSON.parse(e)),this.parseJson(e,t)},e.parseJson=function(e,t){var n;if(t&&t.navDate&&!isNaN(t.navDate.getTime())&&(e.navDate=t.navDate.toString()),e[\"@type\"])switch(e[\"@type\"]){case\"sc:Collection\":n=this.parseCollection(e,t);break;case\"sc:Manifest\":n=this.parseManifest(e,t);break;default:return null}else switch(e.type){case\"Collection\":n=this.parseCollection(e,t);break;case\"Manifest\":n=this.parseManifest(e,t);break;default:return null}return n.isLoaded=!0,n},e.parseCollection=function(e,t){var n=new i.Collection(e,t);return t?(n.index=t.index||0,t.resource&&(n.parentCollection=t.resource.parentCollection)):n.index=0,this.parseCollections(n,t),this.parseManifests(n,t),this.parseItems(n,t),n},e.parseCollections=function(e,t){var n;if(e.__jsonld.collections?n=e.__jsonld.collections:e.__jsonld.items&&(n=e.__jsonld.items.filter((function(e){return\"collection\"===e.type.toLowerCase()}))),n)for(var i=0;i<n.length;i++){t&&(t.index=i);var r=this.parseCollection(n[i],t);r.index=i,r.parentCollection=e,e.items.push(r)}},e.parseManifest=function(e,t){return new i.Manifest(e,t)},e.parseManifests=function(e,t){var n;if(e.__jsonld.manifests?n=e.__jsonld.manifests:e.__jsonld.items&&(n=e.__jsonld.items.filter((function(e){return\"manifest\"===e.type.toLowerCase()}))),n)for(var i=0;i<n.length;i++){var r=this.parseManifest(n[i],t);r.index=i,r.parentCollection=e,e.items.push(r)}},e.parseItem=function(e,t){if(e[\"@type\"]){if(\"sc:manifest\"===e[\"@type\"].toLowerCase())return this.parseManifest(e,t);if(\"sc:collection\"===e[\"@type\"].toLowerCase())return this.parseCollection(e,t)}else if(e.type){if(\"manifest\"===e.type.toLowerCase())return this.parseManifest(e,t);if(\"collection\"===e.type.toLowerCase())return this.parseCollection(e,t)}return null},e.parseItems=function(e,t){var n=e.__jsonld.members||e.__jsonld.items;if(n)for(var i=function(i){t&&(t.index=i);var o=r.parseItem(n[i],t);return o?e.items.filter((function(e){return e.id===o.id}))[0]?\"continue\":(o.index=i,o.parentCollection=e,void e.items.push(o)):{value:void 0}},r=this,o=0;o<n.length;o++){var a=i(o);if(\"object\"==typeof a)return a.value}},e}();t.Deserialiser=r},function(e,t,n){\"use strict\";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,\"__esModule\",{value:!0});var o=n(0),a=function(e){function t(t,n){return e.call(this,t,n)||this}return r(t,e),t.prototype.getProfile=function(){var e=this.getProperty(\"profile\");return e||(e=this.getProperty(\"dcterms:conformsTo\")),Array.isArray(e)?e[0]:e},t.prototype.getConfirmLabel=function(){return o.Utils.getLocalisedValue(this.getProperty(\"confirmLabel\"),this.options.locale)},t.prototype.getDescription=function(){return o.Utils.getLocalisedValue(this.getProperty(\"description\"),this.options.locale)},t.prototype.getFailureDescription=function(){return o.Utils.getLocalisedValue(this.getProperty(\"failureDescription\"),this.options.locale)},t.prototype.getFailureHeader=function(){return o.Utils.getLocalisedValue(this.getProperty(\"failureHeader\"),this.options.locale)},t.prototype.getHeader=function(){return o.Utils.getLocalisedValue(this.getProperty(\"header\"),this.options.locale)},t.prototype.getServiceLabel=function(){return o.Utils.getLocalisedValue(this.getProperty(\"label\"),this.options.locale)},t.prototype.getInfoUri=function(){var e=this.id;return e.endsWith(\"/\")||(e+=\"/\"),e+\"info.json\"},t}(o.ManifestResource);t.Service=a},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.Size=function(e,t){this.width=e,this.height=t}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),function(e){e[e.AUTHORIZATION_FAILED=1]=\"AUTHORIZATION_FAILED\",e[e.FORBIDDEN=2]=\"FORBIDDEN\",e[e.INTERNAL_SERVER_ERROR=3]=\"INTERNAL_SERVER_ERROR\",e[e.RESTRICTED=4]=\"RESTRICTED\"}(t.StatusCode||(t.StatusCode={}))},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i=n(0);t.Thumb=function(e,t){this.data=t,this.index=t.index,this.width=e;var n=t.getHeight()/t.getWidth();this.height=n?Math.floor(this.width*n):e,this.uri=t.getCanonicalImageUri(e),this.label=i.LanguageMap.getValue(t.getLabel())}},function(e,t,n){\"use strict\";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,\"__esModule\",{value:!0});var o=function(e){function t(t,n){return e.call(this,t,n)||this}return r(t,e),t}(n(0).Resource);t.Thumbnail=o},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i=n(0),r=function(){function e(e,t){this.label=e,this.data=t||{},this.nodes=[]}return e.prototype.addNode=function(e){this.nodes.push(e),e.parentNode=this},e.prototype.isCollection=function(){return this.data.type===i.Utils.normaliseType(i.TreeNodeType.COLLECTION)},e.prototype.isManifest=function(){return this.data.type===i.Utils.normaliseType(i.TreeNodeType.MANIFEST)},e.prototype.isRange=function(){return this.data.type===i.Utils.normaliseType(i.TreeNodeType.RANGE)},e}();t.TreeNode=r},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),function(e){e.COLLECTION=\"collection\",e.MANIFEST=\"manifest\",e.RANGE=\"range\"}(t.TreeNodeType||(t.TreeNodeType={}))},function(e,t,n){window,e.exports=function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.CONTINUE=100,t.SWITCHING_PROTOCOLS=101,t.PROCESSING=102,t.OK=200,t.CREATED=201,t.ACCEPTED=202,t.NON_AUTHORITATIVE_INFORMATION=203,t.NO_CONTENT=204,t.RESET_CONTENT=205,t.PARTIAL_CONTENT=206,t.MULTI_STATUS=207,t.MULTIPLE_CHOICES=300,t.MOVED_PERMANENTLY=301,t.MOVED_TEMPORARILY=302,t.SEE_OTHER=303,t.NOT_MODIFIED=304,t.USE_PROXY=305,t.TEMPORARY_REDIRECT=307,t.BAD_REQUEST=400,t.UNAUTHORIZED=401,t.PAYMENT_REQUIRED=402,t.FORBIDDEN=403,t.NOT_FOUND=404,t.METHOD_NOT_ALLOWED=405,t.NOT_ACCEPTABLE=406,t.PROXY_AUTHENTICATION_REQUIRED=407,t.REQUEST_TIME_OUT=408,t.CONFLICT=409,t.GONE=410,t.LENGTH_REQUIRED=411,t.PRECONDITION_FAILED=412,t.REQUEST_ENTITY_TOO_LARGE=413,t.REQUEST_URI_TOO_LARGE=414,t.UNSUPPORTED_MEDIA_TYPE=415,t.REQUESTED_RANGE_NOT_SATISFIABLE=416,t.EXPECTATION_FAILED=417,t.IM_A_TEAPOT=418,t.UNPROCESSABLE_ENTITY=422,t.LOCKED=423,t.FAILED_DEPENDENCY=424,t.UNORDERED_COLLECTION=425,t.UPGRADE_REQUIRED=426,t.PRECONDITION_REQUIRED=428,t.TOO_MANY_REQUESTS=429,t.REQUEST_HEADER_FIELDS_TOO_LARGE=431,t.INTERNAL_SERVER_ERROR=500,t.NOT_IMPLEMENTED=501,t.BAD_GATEWAY=502,t.SERVICE_UNAVAILABLE=503,t.GATEWAY_TIME_OUT=504,t.HTTP_VERSION_NOT_SUPPORTED=505,t.VARIANT_ALSO_NEGOTIATES=506,t.INSUFFICIENT_STORAGE=507,t.BANDWIDTH_LIMIT_EXCEEDED=509,t.NOT_EXTENDED=510,t.NETWORK_AUTHENTICATION_REQUIRED=511}])},function(e,t,n){e.exports=window.fetch||(window.fetch=n(3).default||n(3))}])},function(e,t,n){window,e.exports=function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.CONTINUE=100,t.SWITCHING_PROTOCOLS=101,t.PROCESSING=102,t.OK=200,t.CREATED=201,t.ACCEPTED=202,t.NON_AUTHORITATIVE_INFORMATION=203,t.NO_CONTENT=204,t.RESET_CONTENT=205,t.PARTIAL_CONTENT=206,t.MULTI_STATUS=207,t.MULTIPLE_CHOICES=300,t.MOVED_PERMANENTLY=301,t.MOVED_TEMPORARILY=302,t.SEE_OTHER=303,t.NOT_MODIFIED=304,t.USE_PROXY=305,t.TEMPORARY_REDIRECT=307,t.BAD_REQUEST=400,t.UNAUTHORIZED=401,t.PAYMENT_REQUIRED=402,t.FORBIDDEN=403,t.NOT_FOUND=404,t.METHOD_NOT_ALLOWED=405,t.NOT_ACCEPTABLE=406,t.PROXY_AUTHENTICATION_REQUIRED=407,t.REQUEST_TIME_OUT=408,t.CONFLICT=409,t.GONE=410,t.LENGTH_REQUIRED=411,t.PRECONDITION_FAILED=412,t.REQUEST_ENTITY_TOO_LARGE=413,t.REQUEST_URI_TOO_LARGE=414,t.UNSUPPORTED_MEDIA_TYPE=415,t.REQUESTED_RANGE_NOT_SATISFIABLE=416,t.EXPECTATION_FAILED=417,t.IM_A_TEAPOT=418,t.UNPROCESSABLE_ENTITY=422,t.LOCKED=423,t.FAILED_DEPENDENCY=424,t.UNORDERED_COLLECTION=425,t.UPGRADE_REQUIRED=426,t.PRECONDITION_REQUIRED=428,t.TOO_MANY_REQUESTS=429,t.REQUEST_HEADER_FIELDS_TOO_LARGE=431,t.INTERNAL_SERVER_ERROR=500,t.NOT_IMPLEMENTED=501,t.BAD_GATEWAY=502,t.SERVICE_UNAVAILABLE=503,t.GATEWAY_TIME_OUT=504,t.HTTP_VERSION_NOT_SUPPORTED=505,t.VARIANT_ALSO_NEGOTIATES=506,t.INSUFFICIENT_STORAGE=507,t.BANDWIDTH_LIMIT_EXCEEDED=509,t.NOT_EXTENDED=510,t.NETWORK_AUTHENTICATION_REQUIRED=511}])},function(e,t,n){e.exports=n(3)},function(e,t,n){\"use strict\";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,\"__esModule\",{value:!0});var o=n(0),a=n(5),s=function(e){function t(t){var n=e.call(this,t)||this;return n._data=n.data(),n._data=n.options.data,n._init(),n._resize(),n}return r(t,e),t.prototype._init=function(){e.prototype._init.call(this),this._$element=$(this.el);var t=this;return this._$tree=$('<ul class=\"tree\"></ul>'),this._$element.append(this._$tree),$.templates({pageTemplate:\"{^{for nodes}}\\t\\t\\t\\t\\t{^{tree/}}\\t\\t\\t\\t{{/for}}\",treeTemplate:'<li>\\t\\t\\t\\t\\t\\t{^{if nodes && nodes.length}}\\t\\t\\t\\t\\t\\t\\t<div class=\"toggle\" data-link=\"class{merge:expanded toggle=\\'expanded\\'}\"></div>\\t\\t\\t\\t\\t\\t{{else}}\\t\\t\\t\\t\\t\\t<div class=\"spacer\"></div>\\t\\t\\t\\t\\t\\t{{/if}}\\t\\t\\t\\t\\t\\t{^{if multiSelectEnabled}}\\t\\t\\t\\t\\t\\t\\t<input id=\"tree-checkbox-{{>id}}\" type=\"checkbox\" data-link=\"checked{:multiSelected ? \\'checked\\' : \\'\\'}\" class=\"multiSelect\" />\\t\\t\\t\\t\\t\\t{{/if}}\\t\\t\\t\\t\\t\\t{^{if selected}}\\t\\t\\t\\t\\t\\t\\t<a id=\"tree-link-{{>id}}\" href=\"#\" title=\"{{>label}}\" class=\"selected\">{{>label}}</a>\\t\\t\\t\\t\\t\\t{{else}}\\t\\t\\t\\t\\t\\t\\t<a id=\"tree-link-{{>id}}\" href=\"#\" title=\"{{>label}}\">{{>label}}</a>\\t\\t\\t\\t\\t\\t{{/if}}\\t\\t\\t\\t</li>\\t\\t\\t\\t{^{if expanded}}\\t\\t\\t\\t\\t<li>\\t\\t\\t\\t\\t\\t\\t<ul>\\t\\t\\t\\t\\t\\t\\t\\t\\t{^{for nodes}}\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{^{tree/}}\\t\\t\\t\\t\\t\\t\\t\\t\\t{{/for}}\\t\\t\\t\\t\\t\\t\\t</ul>\\t\\t\\t\\t\\t</li>\\t\\t\\t\\t{{/if}}'}),$.views.tags({tree:{toggleExpanded:function(){var e=this.data;t._setNodeExpanded(e,!e.expanded)},toggleMultiSelect:function(){var e=this.data;if(t._setNodeMultiSelected(e,!e.multiSelected),e.isRange()){var n=t._getMultiSelectState();n&&n.selectRange(e.data,e.multiSelected)}t.fire(u.TREE_NODE_MULTISELECTED,e)},init:function(e,t,n){this.data=e.view.data},onAfterLink:function(){var e=this;e.contents(\"li\").first().on(\"click\",\".toggle\",(function(){e.toggleExpanded()})).on(\"click\",\"a\",(function(n){n.preventDefault();var i=e.data;i.nodes.length&&t._data.branchNodesExpandOnClick&&e.toggleExpanded(),i.multiSelectEnabled?e.toggleMultiSelect():i.nodes.length?t._data.branchNodesSelectable&&(t.fire(u.TREE_NODE_SELECTED,i),t.selectNode(i)):(t.fire(u.TREE_NODE_SELECTED,i),t.selectNode(i))})).on(\"click\",\"input.multiSelect\",(function(t){e.toggleMultiSelect()}))},template:$.templates.treeTemplate}}),!0},t.prototype.set=function(e){var t=this;if(this._data=Object.assign(this._data,e),this._data.helper){this._rootNode=this._data.helper.getTree(this._data.topRangeIndex,this._data.treeSortType),this._flattenedTree=null,this._multiSelectableNodes=null,this._$tree.link($.templates.pageTemplate,this._rootNode);var n=this._getMultiSelectState();if(n)for(var i=function(e){var t=n.ranges[e],i=r._getMultiSelectableNodes().filter((function(e){return e.data.id===t.id}))[0];i&&(r._setNodeMultiSelectEnabled(i,t.multiSelectEnabled),r._setNodeMultiSelected(i,t.multiSelected))},r=this,o=0;o<n.ranges.length;o++)i(o);if(this._data.autoExpand)this.getAllNodes().forEach((function(e,n){t._setNodeExpanded(e,!0)}))}},t.prototype._getMultiSelectState=function(){return this._data.helper?this._data.helper.getMultiSelectState():null},t.prototype.data=function(){return{autoExpand:!1,branchNodesExpandOnClick:!0,branchNodesSelectable:!0,helper:null,topRangeIndex:0,treeSortType:a.TreeSortType.NONE}},t.prototype.allNodesSelected=function(){var e=this._getMultiSelectableNodes(),t=this.getMultiSelectedNodes();return e.length===t.length},t.prototype._getMultiSelectableNodes=function(){var e=this;if(this._multiSelectableNodes)return this._multiSelectableNodes;var t=this.getAllNodes();return t?this._multiSelectableNodes=t.filter((function(t){return e._nodeIsMultiSelectable(t)})):[]},t.prototype._nodeIsMultiSelectable=function(e){return!!(e.data.type===o.TreeNodeType.MANIFEST&&e.nodes&&e.nodes.length>0||e.data.type===o.TreeNodeType.RANGE)},t.prototype.getAllNodes=function(){return this._flattenedTree?this._flattenedTree:this._data.helper?this._flattenedTree=this._data.helper.getFlattenedTree(this._rootNode):[]},t.prototype.getMultiSelectedNodes=function(){var e=this;return this.getAllNodes().filter((function(t){return e._nodeIsMultiSelectable(t)&&t.multiSelected}))},t.prototype.getNodeById=function(e){return this.getAllNodes().filter((function(t){return t.id===e}))[0]},t.prototype.expandParents=function(e,t){e&&e.parentNode&&(this._setNodeExpanded(e.parentNode,t),this.expandParents(e.parentNode,t))},t.prototype._setNodeSelected=function(e,t){$.observable(e).setProperty(\"selected\",t)},t.prototype._setNodeExpanded=function(e,t){$.observable(e).setProperty(\"expanded\",t)},t.prototype._setNodeMultiSelected=function(e,t){$.observable(e).setProperty(\"multiSelected\",t)},t.prototype._setNodeMultiSelectEnabled=function(e,t){$.observable(e).setProperty(\"multiSelectEnabled\",t)},t.prototype.selectPath=function(e){if(this._rootNode){var t=e.split(\"/\");t.length>=1&&t.shift();var n=this.getNodeByPath(this._rootNode,t);this.selectNode(n)}},t.prototype.deselectCurrentNode=function(){this.selectedNode&&this._setNodeSelected(this.selectedNode,!1)},t.prototype.selectNode=function(e){this._rootNode&&(this.deselectCurrentNode(),this.selectedNode=e,this._setNodeSelected(this.selectedNode,!0))},t.prototype.expandNode=function(e,t){this._rootNode&&this._setNodeExpanded(e,t)},t.prototype.getNodeByPath=function(e,t){if(0===t.length)return e;var n=Number(t.shift()),i=e.nodes[n];return this.getNodeByPath(i,t)},t.prototype.show=function(){this._$element.show()},t.prototype.hide=function(){this._$element.hide()},t.prototype._resize=function(){},t}(n(4).BaseComponent);t.TreeComponent=s;var u=function(){function e(){}return e.TREE_NODE_MULTISELECTED=\"treeNodeMultiSelected\",e.TREE_NODE_SELECTED=\"treeNodeSelected\",e}();t.Events=u},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"BaseComponent\",(function(){return i}));var i=function(){function e(e){this.options=e,this.options.data=Object.assign({},this.data(),e.data)}return e.prototype._init=function(){return this.el=this.options.target,this.el?(this.el.innerHTML=\"\",!0):(console.warn(\"element not found\"),!1)},e.prototype.data=function(){return{}},e.prototype.on=function(e,t,n){var i=this._e||(this._e={});(i[e]||(i[e]=[])).push({fn:t,ctx:n})},e.prototype.fire=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var i=[].slice.call(arguments,1),r=((this._e||(this._e={}))[e]||[]).slice(),o=0,a=r.length;o<a;o++)r[o].fn.apply(r[o].ctx,i)},e.prototype._resize=function(){},e.prototype.set=function(e){},e}()},function(e,t,n){\"use strict\";n.r(t);var i,r,o,a,s,u,l,c,p,f,h=function(e){this.isVisible=!0;var t=e.on.match(/.*xywh=(\\d*),(\\d*),(\\d*),(\\d*)/);this.x=Number(t[1]),this.y=Number(t[2]),this.width=Number(t[3]),this.height=Number(t[4]),this.chars=e.resource.chars},d=function(){function e(e,t){this.rects=[],this.canvasIndex=t,this.addRect(e)}return e.prototype.addRect=function(e){var t=new h(e);t.canvasIndex=this.canvasIndex,t.index=this.rects.length,this.rects.push(t),this.rects.sort((function(e,t){return e.index-t.index}))},e}(),g=n(0),_=function(){function e(){this.isEnabled=!1,this.ranges=[],this.canvases=[]}return e.prototype.allCanvasesSelected=function(){return this.canvases.length>0&&this.getAllSelectedCanvases().length===this.canvases.length},e.prototype.allRangesSelected=function(){return this.ranges.length>0&&this.getAllSelectedRanges().length===this.ranges.length},e.prototype.allSelected=function(){return this.allRangesSelected()&&this.allCanvasesSelected()},e.prototype.getAll=function(){return this.canvases.concat(this.ranges)},e.prototype.getAllSelectedCanvases=function(){return this.canvases.filter((function(e){return e.multiSelected}))},e.prototype.getAllSelectedRanges=function(){return this.ranges.filter((function(e){return e.multiSelected}))},e.prototype.getCanvasById=function(e){return this.canvases.filter((function(t){return g.Utils.normaliseUrl(t.id)===g.Utils.normaliseUrl(e)}))[0]},e.prototype.getCanvasesByIds=function(e){for(var t=[],n=0;n<e.length;n++){var i=e[n];t.push(this.getCanvasById(i))}return t},e.prototype.getRangeCanvases=function(e){var t=e.getCanvasIds();return this.getCanvasesByIds(t)},e.prototype.selectAll=function(e){this.selectRanges(this.ranges,e),this.selectCanvases(this.canvases,e)},e.prototype.selectCanvas=function(e,t){this.canvases.filter((function(t){return t.id===e.id}))[0].multiSelected=t},e.prototype.selectAllCanvases=function(e){this.selectCanvases(this.canvases,e)},e.prototype.selectCanvases=function(e,t){for(var n=0;n<e.length;n++){e[n].multiSelected=t}},e.prototype.selectRange=function(e,t){var n=this.ranges.filter((function(t){return t.id===e.id}))[0];n.multiSelected=t;var i=this.getRangeCanvases(n);this.selectCanvases(i,t)},e.prototype.selectAllRanges=function(e){this.selectRanges(this.ranges,e)},e.prototype.selectRanges=function(e,t){for(var n=0;n<e.length;n++){var i=e[n];i.multiSelected=t;var r=this.getCanvasesByIds(i.getCanvasIds());this.selectCanvases(r,t)}},e.prototype.setEnabled=function(e){this.isEnabled=e;for(var t=this.getAll(),n=0;n<t.length;n++){var i=t[n];i.multiSelectEnabled=this.isEnabled,e||(i.multiSelected=!1)}},e}(),v=function(){function e(e,t){this.items=[],this.resource=e,this.label=t}return e.prototype.addItem=function(e){this.items.push(e)},e.prototype.addMetadata=function(e,t){void 0===t&&(t=!1);for(var n=0;n<e.length;n++){var i=e[n];i.isRootLevel=t,this.addItem(i)}},e}();!function(e){e.DATE=\"date\",e.NONE=\"none\"}(i||(i={})),function(e){e.BOOKMARKING=\"oa:bookmarking\",e.CLASSIFYING=\"oa:classifying\",e.COMMENTING=\"oa:commenting\",e.DESCRIBING=\"oa:describing\",e.EDITING=\"oa:editing\",e.HIGHLIGHTING=\"oa:highlighting\",e.IDENTIFYING=\"oa:identifying\",e.LINKING=\"oa:linking\",e.MODERATING=\"oa:moderating\",e.PAINTING=\"sc:painting\",e.QUESTIONING=\"oa:questioning\",e.REPLYING=\"oa:replying\",e.TAGGING=\"oa:tagging\",e.TRANSCRIBING=\"oad:transcribing\"}(r||(r={})),function(e){e.AUTO_ADVANCE=\"auto-advance\",e.CONTINUOUS=\"continuous\",e.FACING_PAGES=\"facing-pages\",e.HIDDEN=\"hidden\",e.INDIVIDUALS=\"individuals\",e.MULTI_PART=\"multi-part\",e.NO_NAV=\"no-nav\",e.NON_PAGED=\"non-paged\",e.PAGED=\"paged\",e.REPEAT=\"repeat\",e.SEQUENCE=\"sequence\",e.THUMBNAIL_NAV=\"thumbnail-nav\",e.TOGETHER=\"together\",e.UNORDERED=\"unordered\"}(o||(o={})),function(e){e.CANVAS=\"canvas\",e.CHOICE=\"choice\",e.CONTENT_AS_TEXT=\"contentastext\",e.DATASET=\"dataset\",e.DOCUMENT=\"document\",e.IMAGE=\"image\",e.MODEL=\"model\",e.MOVING_IMAGE=\"movingimage\",e.PDF=\"pdf\",e.PHYSICAL_OBJECT=\"physicalobject\",e.SOUND=\"sound\",e.TEXT=\"text\",e.TEXTUALBODY=\"textualbody\",e.VIDEO=\"video\"}(a||(a={})),function(e){e.ANNOTATION=\"annotation\",e.CANVAS=\"canvas\",e.COLLECTION=\"collection\",e.MANIFEST=\"manifest\",e.RANGE=\"range\",e.SEQUENCE=\"sequence\"}(s||(s={})),function(e){e.AUDIO_MP4=\"audio/mp4\",e.CORTO=\"application/corto\",e.DRACO=\"application/draco\",e.EPUB=\"application/epub+zip\",e.GLTF=\"model/gltf+json\",e.JPG=\"image/jpeg\",e.M3U8=\"application/vnd.apple.mpegurl\",e.MP3=\"audio/mp3\",e.MPEG_DASH=\"application/dash+xml\",e.OBJ=\"text/plain\",e.OPF=\"application/oebps-package+xml\",e.PDF=\"application/pdf\",e.PLY=\"application/ply\",e.THREEJS=\"application/vnd.threejs+json\",e.VIDEO_MP4=\"video/mp4\",e.WEBM=\"video/webm\"}(u||(u={})),function(e){e.DOC=\"application/msword\",e.DOCX=\"application/vnd.openxmlformats-officedocument.wordprocessingml.document\",e.PDF=\"application/pdf\"}(l||(l={})),function(e){e.IMAGE_0_COMPLIANCE_LEVEL_0=\"http://library.stanford.edu/iiif/image-api/compliance.html#level0\",e.IMAGE_0_COMPLIANCE_LEVEL_1=\"http://library.stanford.edu/iiif/image-api/compliance.html#level1\",e.IMAGE_0_COMPLIANCE_LEVEL_2=\"http://library.stanford.edu/iiif/image-api/compliance.html#level2\",e.IMAGE_0_CONFORMANCE_LEVEL_0=\"http://library.stanford.edu/iiif/image-api/conformance.html#level0\",e.IMAGE_0_CONFORMANCE_LEVEL_1=\"http://library.stanford.edu/iiif/image-api/conformance.html#level1\",e.IMAGE_0_CONFORMANCE_LEVEL_2=\"http://library.stanford.edu/iiif/image-api/conformance.html#level2\",e.IMAGE_1_COMPLIANCE_LEVEL_0=\"http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level0\",e.IMAGE_1_COMPLIANCE_LEVEL_1=\"http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level1\",e.IMAGE_1_COMPLIANCE_LEVEL_2=\"http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level2\",e.IMAGE_1_CONFORMANCE_LEVEL_0=\"http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level0\",e.IMAGE_1_CONFORMANCE_LEVEL_1=\"http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level1\",e.IMAGE_1_CONFORMANCE_LEVEL_2=\"http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level2\",e.IMAGE_1_LEVEL_0=\"http://iiif.io/api/image/1/level0.json\",e.IMAGE_1_PROFILE_LEVEL_0=\"http://iiif.io/api/image/1/profiles/level0.json\",e.IMAGE_1_LEVEL_1=\"http://iiif.io/api/image/1/level1.json\",e.IMAGE_1_PROFILE_LEVEL_1=\"http://iiif.io/api/image/1/profiles/level1.json\",e.IMAGE_1_LEVEL_2=\"http://iiif.io/api/image/1/level2.json\",e.IMAGE_1_PROFILE_LEVEL_2=\"http://iiif.io/api/image/1/profiles/level2.json\",e.IMAGE_2_LEVEL_0=\"http://iiif.io/api/image/2/level0.json\",e.IMAGE_2_PROFILE_LEVEL_0=\"http://iiif.io/api/image/2/profiles/level0.json\",e.IMAGE_2_LEVEL_1=\"http://iiif.io/api/image/2/level1.json\",e.IMAGE_2_PROFILE_LEVEL_1=\"http://iiif.io/api/image/2/profiles/level1.json\",e.IMAGE_2_LEVEL_2=\"http://iiif.io/api/image/2/level2.json\",e.IMAGE_2_PROFILE_LEVEL_2=\"http://iiif.io/api/image/2/profiles/level2.json\",e.AUTH_0_CLICK_THROUGH=\"http://iiif.io/api/auth/0/login/clickthrough\",e.AUTH_0_LOGIN=\"http://iiif.io/api/auth/0/login\",e.AUTH_0_LOGOUT=\"http://iiif.io/api/auth/0/logout\",e.AUTH_0_RESTRICTED=\"http://iiif.io/api/auth/0/login/restricted\",e.AUTH_0_TOKEN=\"http://iiif.io/api/auth/0/token\",e.AUTH_1_CLICK_THROUGH=\"http://iiif.io/api/auth/1/clickthrough\",e.AUTH_1_EXTERNAL=\"http://iiif.io/api/auth/1/external\",e.AUTH_1_KIOSK=\"http://iiif.io/api/auth/1/kiosk\",e.AUTH_1_LOGIN=\"http://iiif.io/api/auth/1/login\",e.AUTH_1_LOGOUT=\"http://iiif.io/api/auth/1/logout\",e.AUTH_1_PROBE=\"http://iiif.io/api/auth/1/probe\",e.AUTH_1_TOKEN=\"http://iiif.io/api/auth/1/token\",e.SEARCH_0=\"http://iiif.io/api/search/0/search\",e.SEARCH_0_AUTO_COMPLETE=\"http://iiif.io/api/search/0/autocomplete\",e.SEARCH_1=\"http://iiif.io/api/search/1/search\",e.SEARCH_1_AUTO_COMPLETE=\"http://iiif.io/api/search/1/autocomplete\",e.TRACKING_EXTENSIONS=\"http://universalviewer.io/tracking-extensions-profile\",e.UI_EXTENSIONS=\"http://universalviewer.io/ui-extensions-profile\",e.PRINT_EXTENSIONS=\"http://universalviewer.io/print-extensions-profile\",e.SHARE_EXTENSIONS=\"http://universalviewer.io/share-extensions-profile\",e.OTHER_MANIFESTATIONS=\"http://iiif.io/api/otherManifestations.json\",e.IXIF=\"http://wellcomelibrary.org/ld/ixif/0/alpha.json\"}(c||(c={})),function(e){e.BOTTOM_TO_TOP=\"bottom-to-top\",e.LEFT_TO_RIGHT=\"left-to-right\",e.RIGHT_TO_LEFT=\"right-to-left\",e.TOP_TO_BOTTOM=\"top-to-bottom\"}(p||(p={})),function(e){e.CONTINUOUS=\"continuous\",e.INDIVIDUALS=\"individuals\",e.NON_PAGED=\"non-paged\",e.PAGED=\"paged\",e.TOP=\"top\"}(f||(f={}));var E=function(){function e(){}return e.manifestNotLoaded=\"Manifest has not loaded yet\",e}(),y=function(){function e(e){this.options=e,this.iiifResource=this.options.iiifResource,this.manifestUri=this.options.manifestUri,this.manifest=this.options.manifest,this.collectionIndex=this.options.collectionIndex||0,this.manifestIndex=this.options.manifestIndex||0,this.sequenceIndex=this.options.sequenceIndex||0,this.canvasIndex=this.options.canvasIndex||0}return e.prototype.getAutoCompleteService=function(){var e=this.getSearchService(),t=null;return e&&((t=e.getService(c.SEARCH_0_AUTO_COMPLETE))||(t=e.getService(c.SEARCH_1_AUTO_COMPLETE))),t},e.prototype.getAttribution=function(){if(!this.manifest)throw new Error(E.manifestNotLoaded);var e=this.manifest.getAttribution();return e?g.LanguageMap.getValue(e,this.options.locale):null},e.prototype.getCanvases=function(){return this.getCurrentSequence().getCanvases()},e.prototype.getCanvasById=function(e){return this.getCurrentSequence().getCanvasById(e)},e.prototype.getCanvasesById=function(e){for(var t=[],n=0;n<e.length;n++){var i=e[n],r=this.getCanvasById(i);r&&t.push(r)}return t},e.prototype.getCanvasByIndex=function(e){return this.getCurrentSequence().getCanvasByIndex(e)},e.prototype.getCanvasIndexById=function(e){return this.getCurrentSequence().getCanvasIndexById(e)},e.prototype.getCanvasIndexByLabel=function(e){var t=this.getManifestType()===g.ManifestType.MANUSCRIPT;return this.getCurrentSequence().getCanvasIndexByLabel(e,t)},e.prototype.getCanvasRange=function(e,t){var n=this.getCanvasRanges(e);if(t){for(var i=0;i<n.length;i++){var r=n[i];if(r.path===t)return r}return null}return n[0]},e.prototype.getCanvasRanges=function(e){if(!this.manifest)throw new Error(E.manifestNotLoaded);return e.ranges?e.ranges:(e.ranges=this.manifest.getAllRanges().filter((function(t){return t.getCanvasIds().some((function(t){return g.Utils.normaliseUrl(t)===g.Utils.normaliseUrl(e.id)}))})),e.ranges)},e.prototype.getCollectionIndex=function(e){if(!e.parentCollection||e.parentCollection.parentCollection)return e.parentCollection?e.parentCollection.index:void 0},e.prototype.getCurrentCanvas=function(){return this.getCurrentSequence().getCanvasByIndex(this.canvasIndex)},e.prototype.getCurrentSequence=function(){return this.getSequenceByIndex(this.sequenceIndex)},e.prototype.getDescription=function(){if(!this.manifest)throw new Error(E.manifestNotLoaded);var e=this.manifest.getDescription();return e?g.LanguageMap.getValue(e,this.options.locale):null},e.prototype.getLabel=function(){if(!this.manifest)throw new Error(E.manifestNotLoaded);var e=this.manifest.getLabel();return e?g.LanguageMap.getValue(e,this.options.locale):null},e.prototype.getLastCanvasLabel=function(e){return this.getCurrentSequence().getLastCanvasLabel(e)},e.prototype.getFirstPageIndex=function(){return 0},e.prototype.getLastPageIndex=function(){return this.getTotalCanvases()-1},e.prototype.getLicense=function(){if(!this.manifest)throw new Error(E.manifestNotLoaded);return this.manifest.getLicense()},e.prototype.getLogo=function(){if(!this.manifest)throw new Error(E.manifestNotLoaded);return this.manifest.getLogo()},e.prototype.getManifestType=function(){if(!this.manifest)throw new Error(E.manifestNotLoaded);var e=this.manifest.getManifestType();return e===g.ManifestType.EMPTY&&(e=g.ManifestType.MONOGRAPH),e},e.prototype.getMetadata=function(e){if(!this.manifest)throw new Error(E.manifestNotLoaded);var t=[],n=this.manifest.getMetadata(),i=new v(this.manifest),r=this.options.locale;(n&&n.length&&i.addMetadata(n,!0),this.manifest.getDescription().length)&&((s=new g.LabelValuePair(r)).label=[new g.Language(\"description\",r)],s.value=this.manifest.getDescription(),s.isRootLevel=!0,i.addItem(s));this.manifest.getAttribution().length&&((s=new g.LabelValuePair(r)).label=[new g.Language(\"attribution\",r)],s.value=this.manifest.getAttribution(),s.isRootLevel=!0,i.addItem(s));var o=this.manifest.getLicense();if(o){var a={label:\"license\",value:e&&e.licenseFormatter?e.licenseFormatter.format(o):o};(s=new g.LabelValuePair(r)).parse(a),s.isRootLevel=!0,i.addItem(s)}if(this.manifest.getLogo()){var s;a={label:\"logo\",value:'<img src=\"'+this.manifest.getLogo()+'\"/>'};(s=new g.LabelValuePair(r)).parse(a),s.isRootLevel=!0,i.addItem(s)}return t.push(i),e?this._parseMetadataOptions(e,t):t},e.prototype.getRequiredStatement=function(){if(!this.manifest)throw new Error(E.manifestNotLoaded);var e=this.manifest.getRequiredStatement();return e?{label:e.getLabel(),value:e.getValue()}:null},e.prototype._parseMetadataOptions=function(e,t){var n=this.getCurrentSequence(),i=n.getMetadata();if(i&&i.length){var r=new v(n);r.addMetadata(i),t.push(r)}if(e.range){var o=this._getRangeMetadata([],e.range);o=o.reverse(),t=t.concat(o)}if(e.canvases&&e.canvases.length)for(var a=0;a<e.canvases.length;a++){var s=e.canvases[a],u=s.getMetadata();if(u&&u.length){var l=new v(s);l.addMetadata(s.getMetadata()),t.push(l)}for(var c=s.getImages(),p=0;p<c.length;p++){var f=c[p],h=f.getMetadata();if(h&&h.length){var d=new v(f);d.addMetadata(h),t.push(d)}}}return t},e.prototype._getRangeMetadata=function(e,t){var n=t.getMetadata();if(n&&n.length){var i=new v(t);i.addMetadata(n),e.push(i)}else if(t.parentRange)return this._getRangeMetadata(e,t.parentRange);return e},e.prototype.getMultiSelectState=function(){return this._multiSelectState||(this._multiSelectState=new _,this._multiSelectState.ranges=this.getRanges().slice(0),this._multiSelectState.canvases=this.getCurrentSequence().getCanvases().slice(0)),this._multiSelectState},e.prototype.getCurrentRange=function(){return this.rangeId?this.getRangeById(this.rangeId):null},e.prototype.getPosterCanvas=function(){if(!this.manifest)throw new Error(E.manifestNotLoaded);return this.manifest.getPosterCanvas()},e.prototype.getPosterImage=function(){var e=this.getPosterCanvas();if(e){var t=e.getContent();if(t&&t.length)return t[0].getBody()[0].id}return null},e.prototype.getPreviousRange=function(e){var t=null;if(t=e||this.getCurrentRange()){var n=this.getFlattenedTree();if(n)for(var i=0;i<n.length;i++){var r=n[i];if(r&&r.data.id===t.id){for(;i>0;){return n[--i].data}break}}}return null},e.prototype.getNextRange=function(e){var t=null;if(t=e||this.getCurrentRange()){var n=this.getFlattenedTree();if(n)for(var i=0;i<n.length;i++){var r=n[i];if(r&&r.data.id===t.id){for(;i<n.length-1;){var o=n[++i];if(o.data.canvases&&o.data.canvases.length)return o.data}break}}}return null},e.prototype.getFlattenedTree=function(e){var t=null;return(t=e||this.getTree())?this._flattenTree(t,\"nodes\"):null},e.prototype._flattenTree=function(e,t){var n=this,i=[e];return e[t]&&e[t].length>0?i.concat(e[t].map((function(e){return n._flattenTree(e,t)})).reduce((function(e,t){return e.concat(t)}),[])):i},e.prototype.getRanges=function(){return this.manifest.getAllRanges()},e.prototype.getRangeByPath=function(e){if(!this.manifest)throw new Error(E.manifestNotLoaded);return this.manifest.getRangeByPath(e)},e.prototype.getRangeById=function(e){if(!this.manifest)throw new Error(E.manifestNotLoaded);return this.manifest.getRangeById(e)},e.prototype.getRangeCanvases=function(e){var t=e.getCanvasIds();return this.getCanvasesById(t)},e.prototype.getRelated=function(){if(!this.manifest)throw new Error(E.manifestNotLoaded);return this.manifest.getRelated()},e.prototype.getSearchService=function(){if(!this.manifest)throw new Error(E.manifestNotLoaded);var e=this.manifest.getService(c.SEARCH_0);return e||(e=this.manifest.getService(c.SEARCH_1)),e},e.prototype.getSeeAlso=function(){if(!this.manifest)throw new Error(E.manifestNotLoaded);return this.manifest.getSeeAlso()},e.prototype.getSequenceByIndex=function(e){if(!this.manifest)throw new Error(E.manifestNotLoaded);return this.manifest.getSequenceByIndex(e)},e.prototype.getShareServiceUrl=function(){if(!this.manifest)throw new Error(E.manifestNotLoaded);var e=null,t=this.manifest.getService(c.SHARE_EXTENSIONS);return t&&(t.length&&(t=t[0]),e=t.__jsonld.shareUrl),e},e.prototype._getSortedTreeNodesByDate=function(e,t){var n=this.getFlattenedTree(t);if(n){var i=n.filter((function(e){return e.data.type===g.TreeNodeType.MANIFEST}));this.createDecadeNodes(e,n),this.sortDecadeNodes(e),this.createYearNodes(e,n),this.sortYearNodes(e),this.createMonthNodes(e,i),this.sortMonthNodes(e),this.createDateNodes(e,i),this.pruneDecadeNodes(e)}},e.prototype.getStartCanvasIndex=function(){return this.getCurrentSequence().getStartCanvasIndex()},e.prototype.getThumbs=function(e,t){return this.getCurrentSequence().getThumbs(e,t)},e.prototype.getTopRanges=function(){if(!this.manifest)throw new Error(E.manifestNotLoaded);return this.manifest.getTopRanges()},e.prototype.getTotalCanvases=function(){return this.getCurrentSequence().getTotalCanvases()},e.prototype.getTrackingLabel=function(){if(!this.manifest)throw new Error(E.manifestNotLoaded);return this.manifest.getTrackingLabel()},e.prototype._getTopRanges=function(){return this.iiifResource.getTopRanges()},e.prototype.getTree=function(e,t){if(void 0===e&&(e=0),void 0===t&&(t=i.NONE),!this.iiifResource)return null;var n;if(this.iiifResource.isCollection())n=this.iiifResource.getDefaultTree();else{var r=this._getTopRanges(),o=new g.TreeNode;if(o.label=\"root\",o.data=this.iiifResource,!r.length)return o;n=r[e].getTree(o)}var a=new g.TreeNode;switch(t.toString()){case i.DATE.toString():if(this.treeHasNavDates(n)){this._getSortedTreeNodesByDate(a,n);break}default:a=n}return a},e.prototype.treeHasNavDates=function(e){var t=this.getFlattenedTree(e);return!!t&&t.some((function(e){return!isNaN(e.navDate)}))},e.prototype.getViewingDirection=function(){if(!this.manifest)throw new Error(E.manifestNotLoaded);var e=this.getCurrentSequence().getViewingDirection();return e||(e=this.manifest.getViewingDirection()),e},e.prototype.getViewingHint=function(){if(!this.manifest)throw new Error(E.manifestNotLoaded);var e=this.getCurrentSequence().getViewingHint();return e||(e=this.manifest.getViewingHint()),e},e.prototype.hasParentCollection=function(){if(!this.manifest)throw new Error(E.manifestNotLoaded);return!!this.manifest.parentCollection},e.prototype.hasRelatedPage=function(){var e=this.getRelated();return!!e&&(e.length&&(e=e[0]),\"text/html\"===e.format)},e.prototype.hasResources=function(){return this.getCurrentCanvas().getResources().length>0},e.prototype.isBottomToTop=function(){var e=this.getViewingDirection();return!!e&&e===p.BOTTOM_TO_TOP},e.prototype.isCanvasIndexOutOfRange=function(e){return this.getCurrentSequence().isCanvasIndexOutOfRange(e)},e.prototype.isContinuous=function(){var e=this.getViewingHint();return!!e&&e===f.CONTINUOUS},e.prototype.isFirstCanvas=function(e){return void 0!==e?this.getCurrentSequence().isFirstCanvas(e):this.getCurrentSequence().isFirstCanvas(this.canvasIndex)},e.prototype.isHorizontallyAligned=function(){return this.isLeftToRight()||this.isRightToLeft()},e.prototype.isLastCanvas=function(e){return void 0!==e?this.getCurrentSequence().isLastCanvas(e):this.getCurrentSequence().isLastCanvas(this.canvasIndex)},e.prototype.isLeftToRight=function(){var e=this.getViewingDirection();return!!e&&e===p.LEFT_TO_RIGHT},e.prototype.isMultiCanvas=function(){return this.getCurrentSequence().isMultiCanvas()},e.prototype.isMultiSequence=function(){if(!this.manifest)throw new Error(E.manifestNotLoaded);return this.manifest.isMultiSequence()},e.prototype.isPaged=function(){if(!this.manifest)throw new Error(E.manifestNotLoaded);var e=this.getViewingHint();return e?e===f.PAGED:this.manifest.isPagingEnabled()},e.prototype.isPagingAvailable=function(){return this.isPagingEnabled()&&this.getTotalCanvases()>2},e.prototype.isPagingEnabled=function(){if(!this.manifest)throw new Error(E.manifestNotLoaded);return this.manifest.isPagingEnabled()||this.getCurrentSequence().isPagingEnabled()},e.prototype.isRightToLeft=function(){var e=this.getViewingDirection();return!!e&&e===p.RIGHT_TO_LEFT},e.prototype.isTopToBottom=function(){var e=this.getViewingDirection();return!!e&&e===p.TOP_TO_BOTTOM},e.prototype.isTotalCanvasesEven=function(){return this.getCurrentSequence().isTotalCanvasesEven()},e.prototype.isUIEnabled=function(e){if(!this.manifest)throw new Error(E.manifestNotLoaded);var t=this.manifest.getService(c.UI_EXTENSIONS);if(t){var n=t.getProperty(\"disableUI\");if(n&&(-1!==n.indexOf(e)||-1!==n.indexOf(e.toLowerCase())))return!1}return!0},e.prototype.isVerticallyAligned=function(){return this.isTopToBottom()||this.isBottomToTop()},e.prototype.createDateNodes=function(e,t){for(var n=0;n<t.length;n++){var i=t[n],r=this.getNodeYear(i),o=this.getNodeMonth(i),a=new g.TreeNode;a.id=i.id,a.label=this.getNodeDisplayDate(i),a.data=i.data,a.data.type=g.TreeNodeType.MANIFEST,a.data.year=r,a.data.month=o;var s=this.getDecadeNode(e,r);if(s){var u=this.getYearNode(s,r);if(u){var l=this.getMonthNode(u,o);l&&l.addNode(a)}}}},e.prototype.createDecadeNodes=function(e,t){for(var n=0;n<t.length;n++){var i=t[n];if(i.navDate){var r=this.getNodeYear(i),o=Number(r.toString().substr(0,3)+\"9\");if(!this.getDecadeNode(e,r)){var a=new g.TreeNode;a.label=r+\" - \"+o,a.navDate=i.navDate,a.data.startYear=r,a.data.endYear=o,e.addNode(a)}}}},e.prototype.createMonthNodes=function(e,t){for(var n=0;n<t.length;n++){var i=t[n];if(i.navDate){var r=this.getNodeYear(i),o=this.getNodeMonth(i),a=this.getDecadeNode(e,r),s=null;if(a&&(s=this.getYearNode(a,r)),a&&s&&!this.getMonthNode(s,o)){var u=new g.TreeNode;u.label=this.getNodeDisplayMonth(i),u.navDate=i.navDate,u.data.year=r,u.data.month=o,s.addNode(u)}}}},e.prototype.createYearNodes=function(e,t){for(var n=0;n<t.length;n++){var i=t[n];if(i.navDate){var r=this.getNodeYear(i),o=this.getDecadeNode(e,r);if(o&&!this.getYearNode(o,r)){var a=new g.TreeNode;a.label=r.toString(),a.navDate=i.navDate,a.data.year=r,o.addNode(a)}}}},e.prototype.getDecadeNode=function(e,t){for(var n=0;n<e.nodes.length;n++){var i=e.nodes[n];if(t>=i.data.startYear&&t<=i.data.endYear)return i}return null},e.prototype.getMonthNode=function(e,t){for(var n=0;n<e.nodes.length;n++){var i=e.nodes[n];if(t===this.getNodeMonth(i))return i}return null},e.prototype.getNodeDisplayDate=function(e){return e.navDate.toDateString()},e.prototype.getNodeDisplayMonth=function(e){return[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"][e.navDate.getMonth()]},e.prototype.getNodeMonth=function(e){return e.navDate.getMonth()},e.prototype.getNodeYear=function(e){return e.navDate.getFullYear()},e.prototype.getYearNode=function(e,t){for(var n=0;n<e.nodes.length;n++){var i=e.nodes[n];if(t===this.getNodeYear(i))return i}return null},e.prototype.pruneDecadeNodes=function(e){for(var t=[],n=0;n<e.nodes.length;n++){var i=e.nodes[n];i.nodes.length||t.push(i)}for(var r=0;r<t.length;r++){var o=t[r],a=e.nodes.indexOf(o);a>-1&&e.nodes.splice(a,1)}},e.prototype.sortDecadeNodes=function(e){e.nodes=e.nodes.sort((function(e,t){return e.data.startYear-t.data.startYear}))},e.prototype.sortMonthNodes=function(e){for(var t=this,n=0;n<e.nodes.length;n++)for(var i=e.nodes[n],r=0;r<i.nodes.length;r++){var o=i.nodes[r];o.nodes=o.nodes.sort((function(e,n){return t.getNodeMonth(e)-t.getNodeMonth(n)}))}},e.prototype.sortYearNodes=function(e){for(var t=this,n=0;n<e.nodes.length;n++){var i=e.nodes[n];i.nodes=i.nodes.sort((function(e,n){return t.getNodeYear(e)-t.getNodeYear(n)}))}},e}(),T=function(){function e(e){this._options=e,this._options.locale=this._options.locale||\"en-GB\"}return e.prototype.bootstrap=function(e,t){var n=this;return new Promise((function(i,r){e&&t&&(i=e,r=t),g.Utils.loadManifest(n._options.manifestUri).then((function(e){n._loaded(n,e,i,r)}))}))},e.prototype._loaded=function(e,t,n,i){var r=g.Utils.parseManifest(t,{locale:e._options.locale});if(r){e._options.iiifResource||(e._options.iiifResource=r);var o=e._options.collectionIndex,a=e._options.manifestIndex;if(r.getIIIFResourceType()===s.COLLECTION){var u=r.getManifests(),l=r.getCollections();u.length||void 0!==o||(o=0),void 0!==o&&l&&l.length?r.getCollectionByIndex(o).then((function(t){t||i(\"Collection index not found\"),0===t.getTotalManifests()&&0===a&&t.getTotalCollections()>0?(e._options.collectionIndex=0,e._options.manifestUri=t.id,e.bootstrap(n,i)):void 0!==a&&t.getManifestByIndex(a).then((function(t){e._options.manifest=t;var i=new y(e._options);n(i)}))})):r.getManifestByIndex(e._options.manifestIndex).then((function(t){e._options.manifest=t;var i=new y(e._options);n(i)}))}else{e._options.manifest=r;var c=new y(e._options);n(c)}}else console.error(\"Unable to load IIIF resource\")},e}(),I=n(1),O=function(){function e(e,t){this.authHoldingPage=null,this.clickThroughService=null,this.externalService=null,this.isProbed=!1,this.isResponseHandled=!1,this.kioskService=null,this.loginService=null,this.logoutService=null,this.probeService=null,this.restrictedService=null,this.tokenService=null,e.externalResource=this,this.dataUri=this._getDataUri(e),this.index=e.index,this.authAPIVersion=t.authApiVersion,this._parseAuthServices(e),this._parseCanvasDimensions(e)}return e.prototype._getImageServiceDescriptor=function(e){for(var t=null,n=0;n<e.length;n++){var i=e[n],r=i.id;r.endsWith(\"/\")||(r+=\"/\"),g.Utils.isImageProfile(i.getProfile())&&(t=r+\"info.json\")}return t},e.prototype._getDataUri=function(e){var t=e.getContent(),n=e.getImages(),i=null;if(t&&t.length){var r=t[0].getBody();return r.length?(o=r[0].getServices()).length&&(i=this._getImageServiceDescriptor(o))?i:r[0].id:null}if(n&&n.length){var o,a=n[0].getResource();return(o=a.getServices()).length&&(i=this._getImageServiceDescriptor(o))?i:a.id}var s=e.getService(c.IXIF);return s?s.getInfoUri():e.id},e.prototype._parseAuthServices=function(e){if(.9===this.authAPIVersion)this.clickThroughService=g.Utils.getService(e,c.AUTH_0_CLICK_THROUGH),this.loginService=g.Utils.getService(e,c.AUTH_0_LOGIN),this.restrictedService=g.Utils.getService(e,c.AUTH_0_RESTRICTED),this.clickThroughService?(this.logoutService=this.clickThroughService.getService(c.AUTH_0_LOGOUT),this.tokenService=this.clickThroughService.getService(c.AUTH_0_TOKEN)):this.loginService?(this.logoutService=this.loginService.getService(c.AUTH_0_LOGOUT),this.tokenService=this.loginService.getService(c.AUTH_0_TOKEN)):this.restrictedService&&(this.logoutService=this.restrictedService.getService(c.AUTH_0_LOGOUT),this.tokenService=this.restrictedService.getService(c.AUTH_0_TOKEN));else{if(void 0!==e.isCanvas&&e.isCanvas()){var t=e.getContent();if(t&&t.length){var n=t[0].getBody();if(n&&n.length)e=n[0]}}this.clickThroughService=g.Utils.getService(e,c.AUTH_1_CLICK_THROUGH),this.loginService=g.Utils.getService(e,c.AUTH_1_LOGIN),this.externalService=g.Utils.getService(e,c.AUTH_1_EXTERNAL),this.kioskService=g.Utils.getService(e,c.AUTH_1_KIOSK),this.clickThroughService?(this.logoutService=this.clickThroughService.getService(c.AUTH_1_LOGOUT),this.tokenService=this.clickThroughService.getService(c.AUTH_1_TOKEN),this.probeService=this.clickThroughService.getService(c.AUTH_1_PROBE)):this.loginService?(this.logoutService=this.loginService.getService(c.AUTH_1_LOGOUT),this.tokenService=this.loginService.getService(c.AUTH_1_TOKEN),this.probeService=this.loginService.getService(c.AUTH_1_PROBE)):this.externalService?(this.logoutService=this.externalService.getService(c.AUTH_1_LOGOUT),this.tokenService=this.externalService.getService(c.AUTH_1_TOKEN),this.probeService=this.externalService.getService(c.AUTH_1_PROBE)):this.kioskService&&(this.logoutService=this.kioskService.getService(c.AUTH_1_LOGOUT),this.tokenService=this.kioskService.getService(c.AUTH_1_TOKEN),this.probeService=this.kioskService.getService(c.AUTH_1_PROBE))}},e.prototype._parseCanvasDimensions=function(e){var t=e.getImages();if(t&&t.length){var n=t[0].getResource();this.width=n.getWidth(),this.height=n.getHeight()}else if((t=e.getContent()).length){var i=t[0].getBody();i.length&&(this.width=i[0].getWidth(),this.height=i[0].getHeight())}},e.prototype._parseDescriptorDimensions=function(e){void 0!==e.width&&(this.width=e.width),void 0!==e.height&&(this.height=e.height)},e.prototype.isAccessControlled=function(){return!!(this.clickThroughService||this.loginService||this.externalService||this.kioskService||this.probeService)},e.prototype.hasServiceDescriptor=function(){return!!this.dataUri&&this.dataUri.endsWith(\"info.json\")},e.prototype.getData=function(e){var t=this;return t.data={},new Promise((function(n,i){if(t.dataUri)if(t.probeService){t.isProbed=!0;var r=new XMLHttpRequest;r.open(\"GET\",t.probeService.id,!0),r.withCredentials=!0,r.onload=function(){var e=JSON.parse(r.responseText);unescape(e.contentLocation)!==t.dataUri?t.status=I.MOVED_TEMPORARILY:t.status=I.OK,n(t)},r.onerror=function(){t.status=r.status,n(t)},r.send()}else{var o=\"GET\";if(!t.hasServiceDescriptor()){if(!t.isAccessControlled())return t.status=I.OK,void n(t);o=\"HEAD\"}var a=new XMLHttpRequest;a.open(o,t.dataUri,!0),e&&a.setRequestHeader(\"Authorization\",\"Bearer \"+e.accessToken),a.onload=function(){var e=JSON.parse(a.responseText);if(e){var i=unescape(e[\"@id\"]);t.data=e,t._parseAuthServices(t.data),t._parseDescriptorDimensions(t.data),i.endsWith(\"/info.json\")&&(i=i.substr(0,i.lastIndexOf(\"/\")));var r=t.dataUri;r&&r.endsWith(\"/info.json\")&&(r=r.substr(0,r.lastIndexOf(\"/\"))),i!==r&&t.loginService?t.status=I.MOVED_TEMPORARILY:t.status=I.OK,n(t)}else t.status=I.OK,n(t)},a.onerror=function(){t.status=a.status,a.responseText&&t._parseAuthServices(JSON.parse(a.responseText)),n(t)},a.send()}else i(\"There is no dataUri to fetch\")}))},e}(),N=function(){},m=function(){},L=function(e,t){this.value=e,this.locale=t},A=function(){function e(e){this.labels=e}return e.prototype.format=function(e){return-1!=e.indexOf(\"<a\")?e:'<a href=\"'+e+'\">'+(this.labels[e]?this.labels[e]:e)+\"</a>\"},e}();n.d(t,\"loadManifest\",(function(){return S})),n.d(t,\"AnnotationGroup\",(function(){return d})),n.d(t,\"AnnotationRect\",(function(){return h})),n.d(t,\"Bootstrapper\",(function(){return T})),n.d(t,\"ExternalResource\",(function(){return O})),n.d(t,\"Helper\",(function(){return y})),n.d(t,\"ILabelValuePair\",(function(){return N})),n.d(t,\"MetadataGroup\",(function(){return v})),n.d(t,\"MetadataOptions\",(function(){return m})),n.d(t,\"MultiSelectState\",(function(){return _})),n.d(t,\"Translation\",(function(){return L})),n.d(t,\"TreeSortType\",(function(){return i})),n.d(t,\"UriLabeller\",(function(){return A}));var S=function(e){return new T(e).bootstrap()}}])}));","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar AnnotationMotivation;\r\n(function (AnnotationMotivation) {\r\n    AnnotationMotivation[\"BOOKMARKING\"] = \"oa:bookmarking\";\r\n    AnnotationMotivation[\"CLASSIFYING\"] = \"oa:classifying\";\r\n    AnnotationMotivation[\"COMMENTING\"] = \"oa:commenting\";\r\n    AnnotationMotivation[\"DESCRIBING\"] = \"oa:describing\";\r\n    AnnotationMotivation[\"EDITING\"] = \"oa:editing\";\r\n    AnnotationMotivation[\"HIGHLIGHTING\"] = \"oa:highlighting\";\r\n    AnnotationMotivation[\"IDENTIFYING\"] = \"oa:identifying\";\r\n    AnnotationMotivation[\"LINKING\"] = \"oa:linking\";\r\n    AnnotationMotivation[\"MODERATING\"] = \"oa:moderating\";\r\n    AnnotationMotivation[\"PAINTING\"] = \"sc:painting\";\r\n    AnnotationMotivation[\"QUESTIONING\"] = \"oa:questioning\";\r\n    AnnotationMotivation[\"REPLYING\"] = \"oa:replying\";\r\n    AnnotationMotivation[\"TAGGING\"] = \"oa:tagging\";\r\n    AnnotationMotivation[\"TRANSCRIBING\"] = \"oad:transcribing\";\r\n})(AnnotationMotivation = exports.AnnotationMotivation || (exports.AnnotationMotivation = {}));\r\nvar Behavior;\r\n(function (Behavior) {\r\n    Behavior[\"AUTO_ADVANCE\"] = \"auto-advance\";\r\n    Behavior[\"CONTINUOUS\"] = \"continuous\";\r\n    Behavior[\"FACING_PAGES\"] = \"facing-pages\";\r\n    Behavior[\"HIDDEN\"] = \"hidden\";\r\n    Behavior[\"INDIVIDUALS\"] = \"individuals\";\r\n    Behavior[\"MULTI_PART\"] = \"multi-part\";\r\n    Behavior[\"NO_NAV\"] = \"no-nav\";\r\n    Behavior[\"NON_PAGED\"] = \"non-paged\";\r\n    Behavior[\"PAGED\"] = \"paged\";\r\n    Behavior[\"REPEAT\"] = \"repeat\";\r\n    Behavior[\"SEQUENCE\"] = \"sequence\";\r\n    Behavior[\"THUMBNAIL_NAV\"] = \"thumbnail-nav\";\r\n    Behavior[\"TOGETHER\"] = \"together\";\r\n    Behavior[\"UNORDERED\"] = \"unordered\";\r\n})(Behavior = exports.Behavior || (exports.Behavior = {}));\r\nvar ExternalResourceType;\r\n(function (ExternalResourceType) {\r\n    ExternalResourceType[\"CANVAS\"] = \"canvas\";\r\n    ExternalResourceType[\"CHOICE\"] = \"choice\";\r\n    ExternalResourceType[\"CONTENT_AS_TEXT\"] = \"contentastext\";\r\n    ExternalResourceType[\"DATASET\"] = \"dataset\";\r\n    ExternalResourceType[\"DOCUMENT\"] = \"document\";\r\n    ExternalResourceType[\"IMAGE\"] = \"image\";\r\n    ExternalResourceType[\"MODEL\"] = \"model\";\r\n    ExternalResourceType[\"MOVING_IMAGE\"] = \"movingimage\";\r\n    ExternalResourceType[\"PDF\"] = \"pdf\";\r\n    ExternalResourceType[\"PHYSICAL_OBJECT\"] = \"physicalobject\";\r\n    ExternalResourceType[\"SOUND\"] = \"sound\";\r\n    ExternalResourceType[\"TEXT\"] = \"text\";\r\n    ExternalResourceType[\"TEXTUALBODY\"] = \"textualbody\";\r\n    ExternalResourceType[\"VIDEO\"] = \"video\";\r\n})(ExternalResourceType = exports.ExternalResourceType || (exports.ExternalResourceType = {}));\r\nvar IIIFResourceType;\r\n(function (IIIFResourceType) {\r\n    IIIFResourceType[\"ANNOTATION\"] = \"annotation\";\r\n    IIIFResourceType[\"CANVAS\"] = \"canvas\";\r\n    IIIFResourceType[\"COLLECTION\"] = \"collection\";\r\n    IIIFResourceType[\"MANIFEST\"] = \"manifest\";\r\n    IIIFResourceType[\"RANGE\"] = \"range\";\r\n    IIIFResourceType[\"SEQUENCE\"] = \"sequence\";\r\n})(IIIFResourceType = exports.IIIFResourceType || (exports.IIIFResourceType = {}));\r\nvar MediaType;\r\n(function (MediaType) {\r\n    MediaType[\"AUDIO_MP4\"] = \"audio/mp4\";\r\n    MediaType[\"CORTO\"] = \"application/corto\";\r\n    MediaType[\"DRACO\"] = \"application/draco\";\r\n    MediaType[\"EPUB\"] = \"application/epub+zip\";\r\n    MediaType[\"GLB\"] = \"model/gltf-binary\";\r\n    MediaType[\"GLTF\"] = \"model/gltf+json\";\r\n    MediaType[\"JPG\"] = \"image/jpeg\";\r\n    MediaType[\"M3U8\"] = \"application/vnd.apple.mpegurl\";\r\n    MediaType[\"MP3\"] = \"audio/mp3\";\r\n    MediaType[\"MPEG_DASH\"] = \"application/dash+xml\";\r\n    MediaType[\"OBJ\"] = \"text/plain\";\r\n    MediaType[\"OPF\"] = \"application/oebps-package+xml\";\r\n    MediaType[\"PDF\"] = \"application/pdf\";\r\n    MediaType[\"PLY\"] = \"application/ply\";\r\n    MediaType[\"THREEJS\"] = \"application/vnd.threejs+json\";\r\n    MediaType[\"USDZ\"] = \"model/vnd.usd+zip\";\r\n    MediaType[\"VIDEO_MP4\"] = \"video/mp4\";\r\n    MediaType[\"WEBM\"] = \"video/webm\";\r\n})(MediaType = exports.MediaType || (exports.MediaType = {}));\r\nvar RenderingFormat;\r\n(function (RenderingFormat) {\r\n    RenderingFormat[\"DOC\"] = \"application/msword\";\r\n    RenderingFormat[\"DOCX\"] = \"application/vnd.openxmlformats-officedocument.wordprocessingml.document\";\r\n    RenderingFormat[\"PDF\"] = \"application/pdf\";\r\n})(RenderingFormat = exports.RenderingFormat || (exports.RenderingFormat = {}));\r\nvar ServiceProfile;\r\n(function (ServiceProfile) {\r\n    // image api\r\n    ServiceProfile[\"IMAGE_0_COMPLIANCE_LEVEL_0\"] = \"http://library.stanford.edu/iiif/image-api/compliance.html#level0\";\r\n    ServiceProfile[\"IMAGE_0_COMPLIANCE_LEVEL_1\"] = \"http://library.stanford.edu/iiif/image-api/compliance.html#level1\";\r\n    ServiceProfile[\"IMAGE_0_COMPLIANCE_LEVEL_2\"] = \"http://library.stanford.edu/iiif/image-api/compliance.html#level2\";\r\n    ServiceProfile[\"IMAGE_0_CONFORMANCE_LEVEL_0\"] = \"http://library.stanford.edu/iiif/image-api/conformance.html#level0\";\r\n    ServiceProfile[\"IMAGE_0_CONFORMANCE_LEVEL_1\"] = \"http://library.stanford.edu/iiif/image-api/conformance.html#level1\";\r\n    ServiceProfile[\"IMAGE_0_CONFORMANCE_LEVEL_2\"] = \"http://library.stanford.edu/iiif/image-api/conformance.html#level2\";\r\n    ServiceProfile[\"IMAGE_1_COMPLIANCE_LEVEL_0\"] = \"http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level0\";\r\n    ServiceProfile[\"IMAGE_1_COMPLIANCE_LEVEL_1\"] = \"http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level1\";\r\n    ServiceProfile[\"IMAGE_1_COMPLIANCE_LEVEL_2\"] = \"http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level2\";\r\n    ServiceProfile[\"IMAGE_1_CONFORMANCE_LEVEL_0\"] = \"http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level0\";\r\n    ServiceProfile[\"IMAGE_1_CONFORMANCE_LEVEL_1\"] = \"http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level1\";\r\n    ServiceProfile[\"IMAGE_1_CONFORMANCE_LEVEL_2\"] = \"http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level2\";\r\n    ServiceProfile[\"IMAGE_1_LEVEL_0\"] = \"http://iiif.io/api/image/1/level0.json\";\r\n    ServiceProfile[\"IMAGE_1_PROFILE_LEVEL_0\"] = \"http://iiif.io/api/image/1/profiles/level0.json\";\r\n    ServiceProfile[\"IMAGE_1_LEVEL_1\"] = \"http://iiif.io/api/image/1/level1.json\";\r\n    ServiceProfile[\"IMAGE_1_PROFILE_LEVEL_1\"] = \"http://iiif.io/api/image/1/profiles/level1.json\";\r\n    ServiceProfile[\"IMAGE_1_LEVEL_2\"] = \"http://iiif.io/api/image/1/level2.json\";\r\n    ServiceProfile[\"IMAGE_1_PROFILE_LEVEL_2\"] = \"http://iiif.io/api/image/1/profiles/level2.json\";\r\n    ServiceProfile[\"IMAGE_2_LEVEL_0\"] = \"http://iiif.io/api/image/2/level0.json\";\r\n    ServiceProfile[\"IMAGE_2_PROFILE_LEVEL_0\"] = \"http://iiif.io/api/image/2/profiles/level0.json\";\r\n    ServiceProfile[\"IMAGE_2_LEVEL_1\"] = \"http://iiif.io/api/image/2/level1.json\";\r\n    ServiceProfile[\"IMAGE_2_PROFILE_LEVEL_1\"] = \"http://iiif.io/api/image/2/profiles/level1.json\";\r\n    ServiceProfile[\"IMAGE_2_LEVEL_2\"] = \"http://iiif.io/api/image/2/level2.json\";\r\n    ServiceProfile[\"IMAGE_2_PROFILE_LEVEL_2\"] = \"http://iiif.io/api/image/2/profiles/level2.json\";\r\n    // auth api\r\n    ServiceProfile[\"AUTH_0_CLICK_THROUGH\"] = \"http://iiif.io/api/auth/0/login/clickthrough\";\r\n    ServiceProfile[\"AUTH_0_LOGIN\"] = \"http://iiif.io/api/auth/0/login\";\r\n    ServiceProfile[\"AUTH_0_LOGOUT\"] = \"http://iiif.io/api/auth/0/logout\";\r\n    ServiceProfile[\"AUTH_0_RESTRICTED\"] = \"http://iiif.io/api/auth/0/login/restricted\";\r\n    ServiceProfile[\"AUTH_0_TOKEN\"] = \"http://iiif.io/api/auth/0/token\";\r\n    ServiceProfile[\"AUTH_1_CLICK_THROUGH\"] = \"http://iiif.io/api/auth/1/clickthrough\";\r\n    ServiceProfile[\"AUTH_1_EXTERNAL\"] = \"http://iiif.io/api/auth/1/external\";\r\n    ServiceProfile[\"AUTH_1_KIOSK\"] = \"http://iiif.io/api/auth/1/kiosk\";\r\n    ServiceProfile[\"AUTH_1_LOGIN\"] = \"http://iiif.io/api/auth/1/login\";\r\n    ServiceProfile[\"AUTH_1_LOGOUT\"] = \"http://iiif.io/api/auth/1/logout\";\r\n    ServiceProfile[\"AUTH_1_PROBE\"] = \"http://iiif.io/api/auth/1/probe\";\r\n    ServiceProfile[\"AUTH_1_TOKEN\"] = \"http://iiif.io/api/auth/1/token\";\r\n    // search api\r\n    ServiceProfile[\"SEARCH_0\"] = \"http://iiif.io/api/search/0/search\";\r\n    ServiceProfile[\"SEARCH_0_AUTO_COMPLETE\"] = \"http://iiif.io/api/search/0/autocomplete\";\r\n    ServiceProfile[\"SEARCH_1\"] = \"http://iiif.io/api/search/1/search\";\r\n    ServiceProfile[\"SEARCH_1_AUTO_COMPLETE\"] = \"http://iiif.io/api/search/1/autocomplete\";\r\n    // extensions\r\n    ServiceProfile[\"TRACKING_EXTENSIONS\"] = \"http://universalviewer.io/tracking-extensions-profile\";\r\n    ServiceProfile[\"UI_EXTENSIONS\"] = \"http://universalviewer.io/ui-extensions-profile\";\r\n    ServiceProfile[\"PRINT_EXTENSIONS\"] = \"http://universalviewer.io/print-extensions-profile\";\r\n    ServiceProfile[\"SHARE_EXTENSIONS\"] = \"http://universalviewer.io/share-extensions-profile\";\r\n    // other\r\n    ServiceProfile[\"OTHER_MANIFESTATIONS\"] = \"http://iiif.io/api/otherManifestations.json\";\r\n    ServiceProfile[\"IXIF\"] = \"http://wellcomelibrary.org/ld/ixif/0/alpha.json\";\r\n})(ServiceProfile = exports.ServiceProfile || (exports.ServiceProfile = {}));\r\nvar ViewingDirection;\r\n(function (ViewingDirection) {\r\n    ViewingDirection[\"BOTTOM_TO_TOP\"] = \"bottom-to-top\";\r\n    ViewingDirection[\"LEFT_TO_RIGHT\"] = \"left-to-right\";\r\n    ViewingDirection[\"RIGHT_TO_LEFT\"] = \"right-to-left\";\r\n    ViewingDirection[\"TOP_TO_BOTTOM\"] = \"top-to-bottom\";\r\n})(ViewingDirection = exports.ViewingDirection || (exports.ViewingDirection = {}));\r\nvar ViewingHint;\r\n(function (ViewingHint) {\r\n    ViewingHint[\"CONTINUOUS\"] = \"continuous\";\r\n    ViewingHint[\"INDIVIDUALS\"] = \"individuals\";\r\n    ViewingHint[\"NON_PAGED\"] = \"non-paged\";\r\n    ViewingHint[\"PAGED\"] = \"paged\";\r\n    ViewingHint[\"TOP\"] = \"top\";\r\n})(ViewingHint = exports.ViewingHint || (exports.ViewingHint = {}));\r\n//# sourceMappingURL=index.js.map"],"sourceRoot":""}