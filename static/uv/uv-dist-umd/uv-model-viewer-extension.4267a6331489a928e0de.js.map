{"version":3,"sources":["webpack://UV/./src/extensions/uv-model-viewer-extension/DownloadDialogue.ts","webpack://UV/./src/extensions/uv-model-viewer-extension/Extension.ts","webpack://UV/./src/extensions/uv-model-viewer-extension/SettingsDialogue.ts","webpack://UV/./src/extensions/uv-model-viewer-extension/ShareDialogue.ts","webpack://UV/./src/modules/uv-modelviewercenterpanel-module/ModelViewerCenterPanel.ts","webpack://UV/./src/modules/uv-modelviewermobilefooterpanel-module/MobileFooter.ts"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA,iBAAiB,SAAI,IAAI,SAAI;AAC7B;AACA;AACA,cAAc,gBAAgB,sCAAsC,iBAAiB,EAAE;AACvF,6BAA6B,uDAAuD;AACpF;AACA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AAC6G;AAC9G;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAAC,8FAAoB;AACM;;;;;;;;;;;;;AClC5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAiB,SAAI,IAAI,SAAI;AAC7B;AACA;AACA,cAAc,gBAAgB,sCAAsC,iBAAiB,EAAE;AACvF,6BAA6B,uDAAuD;AACpF;AACA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACsE;AACM;AACV;AAC0B;AACvC;AACmB;AAC4C;AAC5C;AACa;AACa;AAC7C;AACN;AAC+D;AACvD;AAChB;AACG;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,+EAAU;AAC3C;AACA,SAAS;AACT,iCAAiC,+EAAU;AAC3C,oCAAoC,+EAAU;AAC9C,SAAS;AACT;AACA;AACA;AACA;AACA,mCAAmC,iFAAW;AAC9C;AACA;AACA;AACA;AACA;AACA,iCAAiC,qGAAgB;AACjD;AACA,+BAA+B,wHAAsB;AACrD;AACA,kCAAkC,2GAAkB;AACpD;AACA;AACA,mCAAmC,iFAAW;AAC9C,yCAAyC,wGAAiB;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,8FAAgB;AACpD;AACA;AACA,oCAAoC,kEAAgB;AACpD;AACA;AACA,iCAAiC,6DAAa;AAC9C;AACA;AACA,oCAAoC,mEAAgB;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,2EAAQ;AACnC;AACA,yBAAyB,yDAAW;AACpC;AACA;AACA;AACA,wBAAwB,sEAAoB;AAC5C,kBAAkB,+EAAU;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,sDAAO;AAC5B;AACA;AACA;AACA,CAAC,CAAC,qFAAa;AACA,wEAAS,EAAC;;;;;;;;;;;;;AC3HzB;AAAA;AAAA;AAAA,iBAAiB,SAAI,IAAI,SAAI;AAC7B;AACA;AACA,cAAc,gBAAgB,sCAAsC,iBAAiB,EAAE;AACvF,6BAA6B,uDAAuD;AACpF;AACA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AAC6G;AAC9G;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAAC,8FAAoB;AACM;;;;;;;;;;;;;ACzB5B;AAAA;AAAA;AAAA,iBAAiB,SAAI,IAAI,SAAI;AAC7B;AACA;AACA,cAAc,gBAAgB,sCAAsC,iBAAiB,EAAE;AACvF,6BAA6B,uDAAuD;AACpF;AACA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACoG;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAAC,wFAAiB;AACM;;;;;;;;;;;;;ACjCzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAiB,SAAI,IAAI,SAAI;AAC7B;AACA;AACA,cAAc,gBAAgB,sCAAsC,iBAAiB,EAAE;AACvF,6BAA6B,uDAAuD;AACpF;AACA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,iBAAiB,SAAI,IAAI,SAAI;AAC7B,2BAA2B,+DAA+D,gBAAgB,EAAE,EAAE;AAC9G;AACA,mCAAmC,MAAM,6BAA6B,EAAE,YAAY,WAAW,EAAE;AACjG,kCAAkC,MAAM,iCAAiC,EAAE,YAAY,WAAW,EAAE;AACpG,+BAA+B,qFAAqF;AACpH;AACA,KAAK;AACL;AACA,mBAAmB,SAAI,IAAI,SAAI;AAC/B,aAAa,6BAA6B,0BAA0B,aAAa,EAAE,qBAAqB;AACxG,gBAAgB,qDAAqD,oEAAoE,aAAa,EAAE;AACxJ,sBAAsB,sBAAsB,qBAAqB,GAAG;AACpE;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC;AACvC,kCAAkC,SAAS;AAC3C,kCAAkC,WAAW,UAAU;AACvD,yCAAyC,cAAc;AACvD;AACA,6GAA6G,OAAO,UAAU;AAC9H,gFAAgF,iBAAiB,OAAO;AACxG,wDAAwD,gBAAgB,QAAQ,OAAO;AACvF,8CAA8C,gBAAgB,gBAAgB,OAAO;AACrF;AACA,iCAAiC;AACjC;AACA;AACA,SAAS,YAAY,aAAa,OAAO,EAAE,UAAU,WAAW;AAChE,mCAAmC,SAAS;AAC5C;AACA;AACgE;AACa;AACtC;AACqB;AACE;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,uEAAU;AAC3C;AACA,SAAS;AACT;AACA;AACA;AACA,wGAAwG;AACxG;AACA;AACA;AACA;AACA,SAAS;AACT,+BAA+B,uEAAU;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C,uEAAU;AACzD;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,uDAAQ;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAAC,yEAAW;AACqB;;;;;;;;;;;;;AC1HlC;AAAA;AAAA;AAAA,iBAAiB,SAAI,IAAI,SAAI;AAC7B;AACA;AACA,cAAc,gBAAgB,sCAAsC,iBAAiB,EAAE;AACvF,6BAA6B,uDAAuD;AACpF;AACA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACgF;AACjF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,CAAC,CAAC,yEAAe;AACM","file":"uv-model-viewer-extension.4267a6331489a928e0de.js","sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { DownloadDialogue as BaseDownloadDialogue } from \"../../modules/uv-dialogues-module/DownloadDialogue\";\nvar DownloadDialogue = /** @class */ (function (_super) {\n    __extends(DownloadDialogue, _super);\n    function DownloadDialogue($element) {\n        return _super.call(this, $element) || this;\n    }\n    DownloadDialogue.prototype.create = function () {\n        this.setConfig(\"downloadDialogue\");\n        _super.prototype.create.call(this);\n    };\n    DownloadDialogue.prototype.open = function (triggerButton) {\n        _super.prototype.open.call(this, triggerButton);\n        this.addEntireFileDownloadOptions();\n        this.updateNoneAvailable();\n        this.resize();\n    };\n    DownloadDialogue.prototype.isDownloadOptionAvailable = function (option) {\n        return _super.prototype.isDownloadOptionAvailable.call(this, option);\n    };\n    return DownloadDialogue;\n}(BaseDownloadDialogue));\nexport { DownloadDialogue };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { BaseEvents } from \"../../modules/uv-shared-module/BaseEvents\";\nimport { BaseExtension } from \"../../modules/uv-shared-module/BaseExtension\";\nimport { Bookmark } from \"../../modules/uv-shared-module/Bookmark\";\nimport { ContentLeftPanel } from \"../../modules/uv-contentleftpanel-module/ContentLeftPanel\";\nimport { DownloadDialogue } from \"./DownloadDialogue\";\nimport { FooterPanel } from \"../../modules/uv-shared-module/FooterPanel\";\nimport { FooterPanel as MobileFooterPanel } from \"../../modules/uv-modelviewermobilefooterpanel-module/MobileFooter\";\nimport { HeaderPanel } from \"../../modules/uv-shared-module/HeaderPanel\";\nimport { MoreInfoDialogue } from \"../../modules/uv-dialogues-module/MoreInfoDialogue\";\nimport { MoreInfoRightPanel } from \"../../modules/uv-moreinforightpanel-module/MoreInfoRightPanel\";\nimport { SettingsDialogue } from \"./SettingsDialogue\";\nimport { ShareDialogue } from \"./ShareDialogue\";\nimport { ModelViewerCenterPanel } from \"../../modules/uv-modelviewercenterpanel-module/ModelViewerCenterPanel\";\nimport { ExternalResourceType } from \"@iiif/vocabulary\";\nimport { Strings } from \"@edsilv/utils\";\nimport { LanguageMap } from \"manifesto.js\";\nvar Extension = /** @class */ (function (_super) {\n    __extends(Extension, _super);\n    function Extension() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Extension.prototype.create = function () {\n        var _this = this;\n        _super.prototype.create.call(this);\n        this.component.subscribe(BaseEvents.CANVAS_INDEX_CHANGED, function (canvasIndex) {\n            _this.viewCanvas(canvasIndex);\n        });\n        this.component.subscribe(BaseEvents.THUMB_SELECTED, function (canvasIndex) {\n            _this.component.publish(BaseEvents.CANVAS_INDEX_CHANGED, canvasIndex);\n        });\n    };\n    Extension.prototype.createModules = function () {\n        _super.prototype.createModules.call(this);\n        if (this.isHeaderPanelEnabled()) {\n            this.headerPanel = new HeaderPanel(this.shell.$headerPanel);\n        }\n        else {\n            this.shell.$headerPanel.hide();\n        }\n        if (this.isLeftPanelEnabled()) {\n            this.leftPanel = new ContentLeftPanel(this.shell.$leftPanel);\n        }\n        this.centerPanel = new ModelViewerCenterPanel(this.shell.$centerPanel);\n        if (this.isRightPanelEnabled()) {\n            this.rightPanel = new MoreInfoRightPanel(this.shell.$rightPanel);\n        }\n        if (this.isFooterPanelEnabled()) {\n            this.footerPanel = new FooterPanel(this.shell.$footerPanel);\n            this.mobileFooterPanel = new MobileFooterPanel(this.shell.$mobileFooterPanel);\n        }\n        else {\n            this.shell.$footerPanel.hide();\n        }\n        this.$moreInfoDialogue = $('<div class=\"overlay moreInfo\" aria-hidden=\"true\"></div>');\n        this.shell.$overlays.append(this.$moreInfoDialogue);\n        this.moreInfoDialogue = new MoreInfoDialogue(this.$moreInfoDialogue);\n        this.$downloadDialogue = $('<div class=\"overlay download\" aria-hidden=\"true\"></div>');\n        this.shell.$overlays.append(this.$downloadDialogue);\n        this.downloadDialogue = new DownloadDialogue(this.$downloadDialogue);\n        this.$shareDialogue = $('<div class=\"overlay share\" aria-hidden=\"true\"></div>');\n        this.shell.$overlays.append(this.$shareDialogue);\n        this.shareDialogue = new ShareDialogue(this.$shareDialogue);\n        this.$settingsDialogue = $('<div class=\"overlay settings\" aria-hidden=\"true\"></div>');\n        this.shell.$overlays.append(this.$settingsDialogue);\n        this.settingsDialogue = new SettingsDialogue(this.$settingsDialogue);\n        if (this.isLeftPanelEnabled()) {\n            this.leftPanel.init();\n        }\n        else {\n            this.shell.$leftPanel.hide();\n        }\n        if (this.isRightPanelEnabled()) {\n            this.rightPanel.init();\n        }\n        else {\n            this.shell.$rightPanel.hide();\n        }\n    };\n    Extension.prototype.render = function () {\n        _super.prototype.render.call(this);\n    };\n    Extension.prototype.isLeftPanelEnabled = function () {\n        return false;\n        // return (\n        //   Bools.getBool(this.data.config.options.leftPanelEnabled, true) &&\n        //   (this.helper.isMultiCanvas() || this.helper.isMultiSequence())\n        // );\n    };\n    Extension.prototype.bookmark = function () {\n        _super.prototype.bookmark.call(this);\n        var canvas = this.helper.getCurrentCanvas();\n        var bookmark = new Bookmark();\n        bookmark.index = this.helper.canvasIndex;\n        bookmark.label = LanguageMap.getValue(canvas.getLabel());\n        bookmark.thumb = canvas.getProperty(\"thumbnail\");\n        bookmark.title = this.helper.getLabel();\n        bookmark.trackingLabel = window.trackingLabel;\n        bookmark.type = ExternalResourceType.PHYSICAL_OBJECT;\n        this.fire(BaseEvents.BOOKMARK, bookmark);\n    };\n    Extension.prototype.getEmbedScript = function (template, width, height) {\n        //const configUri: string = this.data.config.uri || '';\n        //const script: string = String.format(template, this.getSerializedLocales(), configUri, this.helper.manifestUri, this.helper.collectionIndex, this.helper.manifestIndex, this.helper.sequenceIndex, this.helper.canvasIndex, width, height, this.data.embedScriptUri);\n        var appUri = this.getAppUri();\n        var iframeSrc = appUri + \"#?manifest=\" + this.helper.manifestUri + \"&c=\" + this.helper.collectionIndex + \"&m=\" + this.helper.manifestIndex + \"&s=\" + this.helper.sequenceIndex + \"&cv=\" + this.helper.canvasIndex;\n        var script = Strings.format(template, iframeSrc, width.toString(), height.toString());\n        return script;\n    };\n    return Extension;\n}(BaseExtension));\nexport default Extension;\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { SettingsDialogue as BaseSettingsDialogue } from \"../../modules/uv-dialogues-module/SettingsDialogue\";\nvar SettingsDialogue = /** @class */ (function (_super) {\n    __extends(SettingsDialogue, _super);\n    function SettingsDialogue($element) {\n        return _super.call(this, $element) || this;\n    }\n    SettingsDialogue.prototype.create = function () {\n        this.setConfig(\"settingsDialogue\");\n        _super.prototype.create.call(this);\n    };\n    return SettingsDialogue;\n}(BaseSettingsDialogue));\nexport { SettingsDialogue };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { ShareDialogue as BaseShareDialogue } from \"../../modules/uv-dialogues-module/ShareDialogue\";\nvar ShareDialogue = /** @class */ (function (_super) {\n    __extends(ShareDialogue, _super);\n    function ShareDialogue($element) {\n        return _super.call(this, $element) || this;\n    }\n    ShareDialogue.prototype.create = function () {\n        this.setConfig(\"shareDialogue\");\n        _super.prototype.create.call(this);\n    };\n    ShareDialogue.prototype.update = function () {\n        _super.prototype.update.call(this);\n        this.code = this.extension.getEmbedScript(this.options.embedTemplate, this.currentWidth, this.currentHeight);\n        this.$code.val(this.code);\n    };\n    ShareDialogue.prototype.resize = function () {\n        _super.prototype.resize.call(this);\n    };\n    return ShareDialogue;\n}(BaseShareDialogue));\nexport { ShareDialogue };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport \"@webcomponents/webcomponentsjs/webcomponents-bundle.js\";\nimport \"../../../node_modules/@google/model-viewer/dist/model-viewer-legacy\";\nimport { sanitize } from \"../../Utils\";\nimport { BaseEvents } from \"../uv-shared-module/BaseEvents\";\nimport { CenterPanel } from \"../uv-shared-module/CenterPanel\";\nvar ModelViewerCenterPanel = /** @class */ (function (_super) {\n    __extends(ModelViewerCenterPanel, _super);\n    function ModelViewerCenterPanel($element) {\n        return _super.call(this, $element) || this;\n    }\n    ModelViewerCenterPanel.prototype.create = function () {\n        var _this = this;\n        this.setConfig(\"modelViewerCenterPanel\");\n        _super.prototype.create.call(this);\n        var that = this;\n        this.component.subscribe(BaseEvents.OPEN_EXTERNAL_RESOURCE, function (resources) {\n            that.openMedia(resources);\n        });\n        this.title = this.extension.helper.getLabel();\n        this.$spinner = $('<div class=\"spinner\"></div>');\n        this.$content.prepend(this.$spinner);\n        this.$modelViewer = $('<model-viewer auto-rotate camera-controls style=\"background-color: unset;\"></model-viewer>');\n        this.$content.prepend(this.$modelViewer);\n        this.$modelViewer[0].addEventListener(\"load\", function () {\n            _this.$content.removeClass(\"loading\");\n            _this.$spinner.hide();\n        });\n        this.component.publish(BaseEvents.OPENED_MEDIA);\n    };\n    ModelViewerCenterPanel.prototype.openMedia = function (resources) {\n        return __awaiter(this, void 0, void 0, function () {\n            var mediaUri, canvas, formats;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        this.$spinner.show();\n                        return [4 /*yield*/, this.extension.getExternalResources(resources)];\n                    case 1:\n                        _a.sent();\n                        mediaUri = null;\n                        canvas = this.extension.helper.getCurrentCanvas();\n                        formats = this.extension.getMediaFormats(canvas);\n                        if (formats && formats.length) {\n                            mediaUri = formats[0].id;\n                        }\n                        else {\n                            mediaUri = canvas.id;\n                        }\n                        this.$modelViewer.attr(\"src\", mediaUri);\n                        // todo: look for choice of usdz, if found, add ar attribute or hide ar button using --ar-button-display\n                        // use choice for this? https://github.com/edsilv/biiif/issues/13#issuecomment-383504734\n                        // mediaUri = mediaUri.substr(0, mediaUri.lastIndexOf(\".\")) + \".usdz\";\n                        // this.$modelViewer.attr(\"ios-src\", mediaUri);\n                        this.component.publish(BaseEvents.OPENED_MEDIA);\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    ModelViewerCenterPanel.prototype.resize = function () {\n        _super.prototype.resize.call(this);\n        this.$spinner.css(\"top\", this.$content.height() / 2 - this.$spinner.height() / 2);\n        this.$spinner.css(\"left\", this.$content.width() / 2 - this.$spinner.width() / 2);\n        if (this.title) {\n            this.$title.text(sanitize(this.title));\n        }\n        if (this.$modelViewer) {\n            this.$modelViewer.width(this.$content.width());\n            this.$modelViewer.height(this.$content.height());\n        }\n    };\n    return ModelViewerCenterPanel;\n}(CenterPanel));\nexport { ModelViewerCenterPanel };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { FooterPanel as BaseFooterPanel } from \"../uv-shared-module/FooterPanel\";\nvar FooterPanel = /** @class */ (function (_super) {\n    __extends(FooterPanel, _super);\n    function FooterPanel($element) {\n        return _super.call(this, $element) || this;\n    }\n    FooterPanel.prototype.create = function () {\n        this.setConfig(\"mobileFooterPanel\");\n        _super.prototype.create.call(this);\n    };\n    FooterPanel.prototype.resize = function () {\n        var _this = this;\n        _super.prototype.resize.call(this);\n        setTimeout(function () {\n            _this.$options.css(\"left\", Math.floor(_this.$element.width() / 2 - _this.$options.width() / 2));\n        }, 100);\n    };\n    return FooterPanel;\n}(BaseFooterPanel));\nexport { FooterPanel };\n"],"sourceRoot":""}